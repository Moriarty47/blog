<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <link rel="icon" href="/blog/images/m.ico"><link rel="stylesheet" media="print" href="/blog/print.css"><title>LOFT</title><meta name="description" content="LOFT">
    <link rel="preload" href="/blog/assets/style-52786e27.css" as="style"><link rel="stylesheet" href="/blog/assets/style-52786e27.css">
    <link rel="modulepreload" href="/blog/assets/app-bf7bc9cc.js"><link rel="modulepreload" href="/blog/assets/framework-5411b43d.js"><link rel="modulepreload" href="/blog/assets/module.html-09065d86.js"><link rel="modulepreload" href="/blog/assets/module.html-2eb7c0e9.js"><link rel="prefetch" href="/blog/assets/index.html-ae2f7e7a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-09607301.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0629a64a.js" as="script"><link rel="prefetch" href="/blog/assets/QA.html-df081e4e.js" as="script"><link rel="prefetch" href="/blog/assets/githubproxy.html-383ad34a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9dbcffc4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-72366d4d.js" as="script"><link rel="prefetch" href="/blog/assets/advance.html-bd76e31a.js" as="script"><link rel="prefetch" href="/blog/assets/compress.html-19f867fc.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-5d747e0d.js" as="script"><link rel="prefetch" href="/blog/assets/fingerprint.html-74df5d80.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-caac1a24.js" as="script"><link rel="prefetch" href="/blog/assets/miniWebpack.html-640bc47e.js" as="script"><link rel="prefetch" href="/blog/assets/mpa.html-dc91e647.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-c27afd58.js" as="script"><link rel="prefetch" href="/blog/assets/perfermance.html-2783f9cc.js" as="script"><link rel="prefetch" href="/blog/assets/resolve.html-b0ca34d9.js" as="script"><link rel="prefetch" href="/blog/assets/sourcecode.html-5e4272b7.js" as="script"><link rel="prefetch" href="/blog/assets/ssr.html-d18e6a7e.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-91a1440b.js" as="script"><link rel="prefetch" href="/blog/assets/ES10.html-b9a36ee0.js" as="script"><link rel="prefetch" href="/blog/assets/ES11.html-4b772d99.js" as="script"><link rel="prefetch" href="/blog/assets/ES12.html-b273fef0.js" as="script"><link rel="prefetch" href="/blog/assets/ES13.html-a4694136.js" as="script"><link rel="prefetch" href="/blog/assets/ES7.html-b1fd333a.js" as="script"><link rel="prefetch" href="/blog/assets/ES8.html-70de0ef1.js" as="script"><link rel="prefetch" href="/blog/assets/ES9.html-ad995181.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b3c200c4.js" as="script"><link rel="prefetch" href="/blog/assets/gc.html-879bbaaa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8c49129c.js" as="script"><link rel="prefetch" href="/blog/assets/mathematicalNotation.html-280346a4.js" as="script"><link rel="prefetch" href="/blog/assets/this.html-be64c28d.js" as="script"><link rel="prefetch" href="/blog/assets/1-two-sum.html-f3a55376.js" as="script"><link rel="prefetch" href="/blog/assets/14-longest-common-prefix.html-465081db.js" as="script"><link rel="prefetch" href="/blog/assets/15-3sum.html-7e96aef9.js" as="script"><link rel="prefetch" href="/blog/assets/18-4sum.html-f5377a98.js" as="script"><link rel="prefetch" href="/blog/assets/6-zigzag-conversion.html-02434e20.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-1f7213e1.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-5c53e6c7.js" as="script"><link rel="prefetch" href="/blog/assets/destructuring.html-3d95d00d.js" as="script"><link rel="prefetch" href="/blog/assets/function.html-5b1890fd.js" as="script"><link rel="prefetch" href="/blog/assets/let-const.html-f4c74b49.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-1e8d1a47.js" as="script"><link rel="prefetch" href="/blog/assets/promise.html-b0d01336.js" as="script"><link rel="prefetch" href="/blog/assets/proxy.html-6cce4ed5.js" as="script"><link rel="prefetch" href="/blog/assets/reflect.html-d0dee0d2.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-a33f1c81.js" as="script"><link rel="prefetch" href="/blog/assets/symbol.html-d3d9d977.js" as="script"><link rel="prefetch" href="/blog/assets/architecture.html-bb003c77.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-19390284.js" as="script"><link rel="prefetch" href="/blog/assets/implementation.html-f677d051.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-37c96fc2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2c7734b5.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2a7064dc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-472548ee.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bbff9a7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-537e5be5.js" as="script"><link rel="prefetch" href="/blog/assets/QA.html-a69c1aa2.js" as="script"><link rel="prefetch" href="/blog/assets/githubproxy.html-15702a66.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3397593f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e247f25c.js" as="script"><link rel="prefetch" href="/blog/assets/advance.html-ce0e3ae7.js" as="script"><link rel="prefetch" href="/blog/assets/compress.html-18eb6643.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-c25f52f1.js" as="script"><link rel="prefetch" href="/blog/assets/fingerprint.html-2d7c877c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f3398cb3.js" as="script"><link rel="prefetch" href="/blog/assets/miniWebpack.html-7b84d436.js" as="script"><link rel="prefetch" href="/blog/assets/mpa.html-eef62d46.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-e2375368.js" as="script"><link rel="prefetch" href="/blog/assets/perfermance.html-c8dd4b3c.js" as="script"><link rel="prefetch" href="/blog/assets/resolve.html-088c6ba8.js" as="script"><link rel="prefetch" href="/blog/assets/sourcecode.html-d56c3ff3.js" as="script"><link rel="prefetch" href="/blog/assets/ssr.html-f6260664.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-899fa7db.js" as="script"><link rel="prefetch" href="/blog/assets/ES10.html-7774aa09.js" as="script"><link rel="prefetch" href="/blog/assets/ES11.html-ba657adf.js" as="script"><link rel="prefetch" href="/blog/assets/ES12.html-891ac07a.js" as="script"><link rel="prefetch" href="/blog/assets/ES13.html-8baa9a07.js" as="script"><link rel="prefetch" href="/blog/assets/ES7.html-b39e40d3.js" as="script"><link rel="prefetch" href="/blog/assets/ES8.html-6543214d.js" as="script"><link rel="prefetch" href="/blog/assets/ES9.html-2379df8e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-79c64d37.js" as="script"><link rel="prefetch" href="/blog/assets/gc.html-92db9a5b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0d3d37f3.js" as="script"><link rel="prefetch" href="/blog/assets/mathematicalNotation.html-ac26ff78.js" as="script"><link rel="prefetch" href="/blog/assets/this.html-f3621cf1.js" as="script"><link rel="prefetch" href="/blog/assets/1-two-sum.html-3ff91204.js" as="script"><link rel="prefetch" href="/blog/assets/14-longest-common-prefix.html-073b04b3.js" as="script"><link rel="prefetch" href="/blog/assets/15-3sum.html-eb2e5c75.js" as="script"><link rel="prefetch" href="/blog/assets/18-4sum.html-946c996f.js" as="script"><link rel="prefetch" href="/blog/assets/6-zigzag-conversion.html-d320ed4d.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-f54cd776.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-b1d437e8.js" as="script"><link rel="prefetch" href="/blog/assets/destructuring.html-700158ce.js" as="script"><link rel="prefetch" href="/blog/assets/function.html-01981adc.js" as="script"><link rel="prefetch" href="/blog/assets/let-const.html-164e398b.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-4e725ea9.js" as="script"><link rel="prefetch" href="/blog/assets/promise.html-ef7029a9.js" as="script"><link rel="prefetch" href="/blog/assets/proxy.html-69408401.js" as="script"><link rel="prefetch" href="/blog/assets/reflect.html-82e27965.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-682b4bea.js" as="script"><link rel="prefetch" href="/blog/assets/symbol.html-1d32cc56.js" as="script"><link rel="prefetch" href="/blog/assets/architecture.html-9e3e39e0.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-c7b8ce71.js" as="script"><link rel="prefetch" href="/blog/assets/implementation.html-937cb1be.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0018c0ee.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b2423981.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-be216922.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-78eccbaa.js" as="script"><link rel="prefetch" href="/blog/assets/Playground-3eb19026.js" as="script"><link rel="prefetch" href="/blog/assets/index-e3112853.js" as="script"><link rel="prefetch" href="/blog/assets/CodeLink-dd177f41.js" as="script"><link rel="prefetch" href="/blog/assets/CodeTool-4b08e5c5.js" as="script"><link rel="prefetch" href="/blog/assets/index-4bed0a7c.js" as="script"><link rel="prefetch" href="/blog/assets/index-7d6bcf76.js" as="script"><link rel="prefetch" href="/blog/assets/index-37fe586b.js" as="script"><link rel="prefetch" href="/blog/assets/index-94db7077.js" as="script"><link rel="prefetch" href="/blog/assets/katex-21dcf7db.js" as="script"><link rel="prefetch" href="/blog/assets/mermaid.core-905ae0d6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container page-indent"><!--[--><header class="navbar" style="visibility:unset;"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><!----><span class="site-name can-hide">LOFT</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blog/" class="" aria-label="LOFT"><!--[--><!--]--> LOFT <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/playground" class="" aria-label="游乐场"><!--[--><!--]--> 游乐场 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文章"><span class="title">文章</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文章"><span class="title">文章</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/JSBooks/ECMAScript/" class="router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Leetcode/Array/1-two-sum.md" class="" aria-label="Leetcode"><!--[--><!--]--> Leetcode <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Bundler/" class="" aria-label="构建工具"><!--[--><!--]--> 构建工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Tutorial/" class="" aria-label="解决方案及教程"><!--[--><!--]--> 解决方案及教程 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="更多"><span class="title">更多</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="更多"><span class="title">更多</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/resume" class="" aria-label="简历"><!--[--><!--]--> 简历 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="切换颜色"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blog/" class="" aria-label="LOFT"><!--[--><!--]--> LOFT <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/playground" class="" aria-label="游乐场"><!--[--><!--]--> 游乐场 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文章"><span class="title">文章</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文章"><span class="title">文章</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/JSBooks/ECMAScript/" class="router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Leetcode/Array/1-two-sum.md" class="" aria-label="Leetcode"><!--[--><!--]--> Leetcode <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Bundler/" class="" aria-label="构建工具"><!--[--><!--]--> 构建工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Tutorial/" class="" aria-label="解决方案及教程"><!--[--><!--]--> 解决方案及教程 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="更多"><span class="title">更多</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="更多"><span class="title">更多</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/resume" class="" aria-label="简历"><!--[--><!--]--> 简历 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">JavaScript <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item active">ECMAScript新特性 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/ECMAScript" class="router-link-active sidebar-item" aria-label="新特性简介"><!--[--><!--]--> 新特性简介 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item active collapsible">ES6新特性 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/ECMAScript/ES6/let-const.md" class="sidebar-item" aria-label="let,const 声明"><!--[--><!--]--> let,const 声明 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/symbol.md" class="sidebar-item" aria-label="Symbol 基本数据类型"><!--[--><!--]--> Symbol 基本数据类型 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/string.md" class="sidebar-item" aria-label="字符串扩展"><!--[--><!--]--> 字符串扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/destructuring.md" class="sidebar-item" aria-label="变量的解构赋值"><!--[--><!--]--> 变量的解构赋值 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/array.md" class="sidebar-item" aria-label="Array 扩展"><!--[--><!--]--> Array 扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/object.md" class="sidebar-item" aria-label="Object 扩展"><!--[--><!--]--> Object 扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/function.md" class="sidebar-item" aria-label="Function 扩展"><!--[--><!--]--> Function 扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/class.md" class="sidebar-item" aria-label="Class 类"><!--[--><!--]--> Class 类 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/proxy.md" class="sidebar-item" aria-label="Proxy"><!--[--><!--]--> Proxy <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/reflect.md" class="sidebar-item" aria-label="Reflect"><!--[--><!--]--> Reflect <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/promise.md" class="sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/module.md" class="sidebar-item active" aria-label="Module"><!--[--><!--]--> Module <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/blog/JSBooks/ECMAScript/ES7.md" class="sidebar-item" aria-label="ES7新特性"><!--[--><!--]--> ES7新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES8.md" class="sidebar-item" aria-label="ES8新特性"><!--[--><!--]--> ES8新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES9.md" class="sidebar-item" aria-label="ES9新特性"><!--[--><!--]--> ES9新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES10.md" class="sidebar-item" aria-label="ES10新特性"><!--[--><!--]--> ES10新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES11.md" class="sidebar-item" aria-label="ES11新特性"><!--[--><!--]--> ES11新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES12.md" class="sidebar-item" aria-label="ES12新特性"><!--[--><!--]--> ES12新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES13.md" class="sidebar-item" aria-label="ES13新特性"><!--[--><!--]--> ES13新特性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">JavaScript基础 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/JavaScript" class="sidebar-item" aria-label="JavaScript实现"><!--[--><!--]--> JavaScript实现 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/this.md" class="sidebar-item" aria-label="this指向"><!--[--><!--]--> this指向 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/gc.md" class="sidebar-item" aria-label="垃圾回收机制"><!--[--><!--]--> 垃圾回收机制 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/Vue原理/index.md" class="sidebar-item" aria-label="Vue原理"><!--[--><!--]--> Vue原理 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item">React <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/JavaScript/React/concept.md" class="sidebar-item" aria-label="理念"><!--[--><!--]--> 理念 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/React/architecture.md" class="sidebar-item" aria-label="架构"><!--[--><!--]--> 架构 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/React/implementation.md" class="sidebar-item" aria-label="实现"><!--[--><!--]--> 实现 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/blog/JSBooks/JavaScript/mathematicalNotation.md" class="sidebar-item" aria-label="数学标记"><!--[--><!--]--> 数学标记 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><!----><!--[--><!-- name="fade-slide-y" --><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><!--[--><div><h2 id="module" tabindex="-1"><a class="header-anchor" href="#module" aria-hidden="true">#</a> Module</h2><p>ES6 之前的一些模块加载方案有 CommonJS(用于服务器)和 AMD(用于浏览器)两种。ES6 在语言标准层面实现了模块功能，成为服务器和浏览器的通用模块解决方案。</p><h3 id="静态分析" tabindex="-1"><a class="header-anchor" href="#静态分析" aria-hidden="true">#</a> 静态分析</h3><p>Module 的设计思想是尽量静态化，在编译时就确定模块的依赖关系及输入输出变量。但一些模块需要进行动态加载，这会导致静态分析变得困难。在浏览器中加载模块必须在所有依赖都加载后执行代码。如果没有依赖模块的代码，则必须发送请求并等待网络返回。收到模块代码之后，浏览器必须确定刚收到的模块是否也含有依赖，并递归加载所有依赖，直到所有依赖模块都加载完成。只有所有依赖都加载完成，才会执行入口模块。</p><h3 id="循环依赖" tabindex="-1"><a class="header-anchor" href="#循环依赖" aria-hidden="true">#</a> 循环依赖</h3><p>一个 JavaScript 应用几乎不可能不包含循环依赖，这时模块的加载顺序可能会导致一些副作用。</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">moduleA</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">moduleB</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">moduleC</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">moduleD</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;moduleA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleC&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;moduleB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;moduleC&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleC&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;moduleD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><!--]--></div><p><strong><em>当 moduleA 最先加载</em></strong>，打印输出为</p><blockquote><p>&quot;moduleB&quot;</p><p>&quot;moduleC&quot;</p><p>&quot;moduleD&quot;</p><p>&quot;moduleA&quot;</p></blockquote><!----><p><strong><em>当 moduleC 最先加载</em></strong>，打印输出为</p><blockquote><p>&quot;moduleD&quot;</p><p>&quot;moduleA&quot;</p><p>&quot;moduleB&quot;</p><p>&quot;moduleC&quot;</p></blockquote><!----><p>从上面两图可以看出加载器会进行深度优先的依赖加载。</p><h3 id="commonjs" tabindex="-1"><a class="header-anchor" href="#commonjs" aria-hidden="true">#</a> CommonJS</h3><p>CommonJS 规范描述同步声明依赖的模块定义。主要用于服务端实现模块化代码，不能直接在浏览器中运行。要想在浏览器中使用 CommonJS，常用的解决方案是提前把模块文件打包好，把全局属性转换为原生 JavaScript 结构，将模块代码封装在函数闭包中，再通过全面生成的依赖图按顺序进行模块打包，最终形成一个文件。</p><p>CommonJS 模块定义示例</p><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token comment">// moduleA.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> readFileSync <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Desugar into</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">requrie</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> stat <span class="token operator">=</span> fs<span class="token punctuation">.</span>stat<span class="token punctuation">;</span>
<span class="token keyword">const</span> readFileSync <span class="token operator">=</span> fs<span class="token punctuation">.</span>readFileSync<span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">readFile</span><span class="token operator">:</span> readFileSync<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>一个模块不管通过<code>require()</code>引用多少次，永远都是单例。模块在第一次加载后会被缓存，后续加载会直接获取缓存的模块。</p><p><code>module.exports</code>是一个对象，用于定义模块的公共接口。</p><p>module.exports 示例</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">字符串</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">对象字面量</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">class类</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">类实例</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token comment">// moduleA.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token string">&#39;This is module A.&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// moduleB.js</span>
<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token function">requrie</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleA.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>moduleB<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;This is module A.&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token comment">// moduleA.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 或者</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// moduleB.js</span>
<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token function">requrie</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleA.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>moduleB<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;bar&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token comment">// moduleA.js</span>
<span class="token keyword">class</span> <span class="token class-name">Baz</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Baz<span class="token punctuation">;</span>
<span class="token comment">// moduleB.js</span>
<span class="token keyword">const</span> Baz <span class="token operator">=</span> <span class="token function">requrie</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleA.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Baz {}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token comment">// moduleA.js</span>
<span class="token keyword">class</span> <span class="token class-name">Qux</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Qux</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// moduleB.js</span>
<span class="token keyword">const</span> qux <span class="token operator">=</span> <span class="token function">requrie</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleA.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>qux<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Qux {}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><!--]--></div><!--]--></div><h3 id="amd" tabindex="-1"><a class="header-anchor" href="#amd" aria-hidden="true">#</a> AMD</h3><p>由于 CommonJS 以服务端作为目标环境，不需要考虑网络延迟问题，可一次性把所有模块都加载到内存中。而当以浏览器作为目标环境时，需要考虑网络延迟的问题，故有了 AMD 即异步模块定义(Asynchronous Module Definition)。 AMD 一般是让模块声明自己的依赖，在浏览器中按需获取依赖，并在依赖加载完成时立即执行依赖模块。</p><p>AMD 模块的实现核心是用<strong>函数包装模块定义</strong>。这样做的好处有：</p><ul><li>可防止声明全局变量；</li><li>允许加载器库控制何时加载模块；</li><li>便于模块代码的移植(包装函数内部模块代码都是原生 JavaScript 结构)；</li></ul><p>其中包装函数作为全局 define(加载器库定义)的参数。同时 AMD 也支持 require 和 exports 对象，通过使用它们可以在 AMD 模块工厂函数内部定义 CommonJS 风格的模块，AMD 加载器会将它们识别为原生 AMD 结构，而非模块。</p><p>AMD 模块定义示例</p><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">&#39;moduleA&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;moduleB&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;require&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;exports&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
  <span class="token parameter">moduleB<span class="token punctuation">,</span>
  require<span class="token punctuation">,</span>
  exports</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> moduleC <span class="token operator">=</span> <span class="token function">requrie</span><span class="token punctuation">(</span><span class="token string">&#39;moduleC&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  exports<span class="token punctuation">.</span>doThings <span class="token operator">=</span> moduleC<span class="token punctuation">.</span>doThings<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h3 id="umd" tabindex="-1"><a class="header-anchor" href="#umd" aria-hidden="true">#</a> UMD</h3><p>UMD 即通用模块定义(Universal Module Definition)。用于统一 CommonJS 和 AMD 生态方案。实际上，UMD 定义的模块会在启动时检测要使用哪个模块系统，然后进行适当配置，并把所有逻辑包装在一个立即执行函数表达式(IIFE)中。</p><p>UMD 模块定义示例</p><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// AMD, register as anonymous module</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Foo&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Node, no support for strict CommonJS</span>
    <span class="token comment">// used in env Such as Node which support CommonJS with module.exports</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;Foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Browser context (root should be window)</span>
    root<span class="token punctuation">.</span>returnExports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>Foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Foo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// return () =&gt; {}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h3 id="es6-模块-esm" tabindex="-1"><a class="header-anchor" href="#es6-模块-esm" aria-hidden="true">#</a> ES6 模块 (ESM)</h3><h4 id="script-module-标签" tabindex="-1"><a class="header-anchor" href="#script-module-标签" aria-hidden="true">#</a> script module 标签</h4><p>带有 <code>type=&quot;module&quot;</code> 属性的 <code>&lt;script&gt;</code> 标签会告知浏览器其相关代码应作为模块执行，而非传统脚本执行。</p><p>script module 标签示例</p><div class="code-tool-container language-html line-numbers-mode" data-ext="html"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="html"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// some module code</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path/to/module.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>浏览器在解析到 <code>&lt;script type=&quot;module&quot;&gt;&lt;/script&gt;</code> 标签后会立即下载模块文件，但执行时机会延迟到文档解析完成。其在页面中的出现顺序即为它的执行顺序。与 <code>&lt;script defer&gt;</code> 一样，修改标签的位置，无论是在 <code>&lt;head&gt;</code> 还是 <code>&lt;body&gt;</code> 中，都只会影响文件的加载时机，不会影响模块的加载时机。</p><div class="code-tool-container language-html line-numbers-mode" id="module-script-example" data-ext="html" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="html"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;local variable&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>运行代码可以看到打印顺序为<code>&#39;c&#39;, &#39;a&#39;, &#39;b&#39;</code>。</p><p>模块的加载是异步的，从顶级模块异步递归加载，直到整个依赖图都解析完成。</p><h4 id="模块行为" tabindex="-1"><a class="header-anchor" href="#模块行为" aria-hidden="true">#</a> 模块行为</h4><table><thead><tr><th style="text-align:center;"></th><th style="text-align:left;">ES6 模块行为</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:left;">模块是单例，只能加载一次</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:left;">模块可以定义公共接口，其他模块基于该公共接口进行观察和交互</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:left;">模块可以请求加载(通过 CORS)其他模块</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:left;">模块支持循环依赖</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:left;">模块是异步加载并执行的</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:left;">模块代码只在加载后执行</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:left;">默认在严格模式下执行</td></tr><tr><td style="text-align:center;">8</td><td style="text-align:left;">不共享全局命名空间，每个 ESM 都是单独的私有作用域</td></tr><tr><td style="text-align:center;">9</td><td style="text-align:left;">模块顶级<code>this</code>的值为<code>undefined</code></td></tr><tr><td style="text-align:center;">10</td><td style="text-align:left;">模块中<code>var</code>声明不会添加到<code>window</code>对象上</td></tr></tbody></table><h4 id="模块导出" tabindex="-1"><a class="header-anchor" href="#模块导出" aria-hidden="true">#</a> 模块导出</h4><p>ES6 模块导出有两种：<strong>命名导出</strong> 和 <strong>默认导出</strong>。</p><p>1.命名导出</p><p>将模块作为容器，可以在一个模块中声明多个命名导出。</p><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> foo <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">qux</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 导出别名</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token string">&#39;baz&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> baz <span class="token keyword">as</span> Baz <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>2.默认导出</p><p>每个模块只能存在一个默认导出。默认导出和命名导出不冲突，可以在一个模块中同时定义两种导出。</p><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> foo<span class="token punctuation">;</span>
<span class="token comment">// OR</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> foo <span class="token keyword">as</span> <span class="token keyword">default</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ES6模块会识别作为别名提供的default关键字，虽然使用命名导出的形式导出，但实际会成为默认导出。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="模块导入" tabindex="-1"><a class="header-anchor" href="#模块导入" aria-hidden="true">#</a> 模块导入</h4><p>不同的导出方式对应不同的导入方式。模块标识符可以是相对于当前模块的相对路径，也可以是模块文件的绝对路径，必须是纯字符串，不可以动态拼接(因为 import 是静态执行的，这些只有在运行时才能得到的结果不能使用)。导入对模块而言是只读的，不能直接修改导出的值，但可以修改导出对象的属性。</p><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&#39;./foo.js&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// OR</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> foo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./foo.js&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 不需要模块特定的导出，加载和执行模块并利用其副作用</span>
<span class="token keyword">import</span> <span class="token string">&#39;./foo.js&#39;</span><span class="token punctuation">;</span>

<span class="token comment">/* bar.js
  const foo = &#39;foo&#39;;
  const bar = &#39;bar&#39;;
  export { foo, bar }
*/</span>
<span class="token comment">// 命名导出使用*批量获取并赋值给保存导出集合的别名</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Bar <span class="token keyword">from</span> <span class="token string">&#39;./bar.js&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Bar<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;foo&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Bar<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;bar&#39;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token keyword">as</span> Bar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./bar.js&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;foo&#39;;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;bar&#39;;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="模块转移导出" tabindex="-1"><a class="header-anchor" href="#模块转移导出" aria-hidden="true">#</a> 模块转移导出</h4><p>模块导入的值可以直接通过管道转移到导出。</p><div class="code-tool-container language-javascript line-numbers-mode" data-ext="js"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token comment">// 外部模块的所有命名导出作为当前模块的命名导出</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./bar.js&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token keyword">as</span> Bar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./bar.js&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 外部模块的默认导出可直接作为当前模块的默认导出</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./bar.js&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 外部模块的命名导出也可指定为当前模块的默认导出</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> foo <span class="token keyword">as</span> <span class="token keyword">default</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./bar.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div></div><!--]--><!--[--><!--]--></div><!-- <PageMeta v-if="useMeta" /> --><nav class="page-nav"><p class="inner"><span class="prev"><a href="/blog/JSBooks/ECMAScript/ES6/promise.md" class="" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--[--><!--]--><div class="footer"><p> MIT Licensed | Copyright © 2020-present <a href="https://github.com/moriarty47" target="_blank" rel="noopener noreferrer"> Moriarty47 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" data-darkreader-inline-fill="" style="--darkreader-inline-fill:currentColor;"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9" data-darkreader-inline-fill="" style="--darkreader-inline-fill:currentColor;"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--]--></main><!--]--><div class="page-catalog-container"><h5 class="tip">FLOOR</h5><ul><!--[--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_2"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#module" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Module"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="Module"><!--[-->Module<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#静态分析" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="静态分析"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="静态分析"><!--[-->静态分析<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#循环依赖" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="循环依赖"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="循环依赖"><!--[-->循环依赖<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#commonjs" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="CommonJS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="CommonJS"><!--[-->CommonJS<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#amd" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="AMD"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="AMD"><!--[-->AMD<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#umd" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="UMD"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="UMD"><!--[-->UMD<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#es6-模块-esm" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="ES6 模块 (ESM)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="ES6 模块 (ESM)"><!--[-->ES6 模块 (ESM)<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#script-module-标签" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="script module 标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="script module 标签"><!--[-->script module 标签<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#模块行为" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="模块行为"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="模块行为"><!--[-->模块行为<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#模块导出" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="模块导出"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="模块导出"><!--[-->模块导出<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#模块导入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="模块导入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="模块导入"><!--[-->模块导入<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/module.html#模块转移导出" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="模块转移导出"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="模块转移导出"><!--[-->模块转移导出<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--><!--]--></ul></div><!--]--></div><!----><!--]--></div>
    <div id="modal-container"></div>
    <div id="ctxmenu-container"></div>
    <script type="module" src="/blog/assets/app-bf7bc9cc.js" defer></script>
  </body>
</html>
