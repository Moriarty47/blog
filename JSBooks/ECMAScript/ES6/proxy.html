<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <link rel="icon" href="/blog/images/m.ico"><link rel="stylesheet" media="print" href="/blog/print.css"><title>LOFT</title><meta name="description" content="LOFT">
    <link rel="preload" href="/blog/assets/style-52786e27.css" as="style"><link rel="stylesheet" href="/blog/assets/style-52786e27.css">
    <link rel="modulepreload" href="/blog/assets/app-bf7bc9cc.js"><link rel="modulepreload" href="/blog/assets/framework-5411b43d.js"><link rel="modulepreload" href="/blog/assets/proxy.html-6cce4ed5.js"><link rel="modulepreload" href="/blog/assets/proxy.html-69408401.js"><link rel="prefetch" href="/blog/assets/index.html-ae2f7e7a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-09607301.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0629a64a.js" as="script"><link rel="prefetch" href="/blog/assets/QA.html-df081e4e.js" as="script"><link rel="prefetch" href="/blog/assets/githubproxy.html-383ad34a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9dbcffc4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-72366d4d.js" as="script"><link rel="prefetch" href="/blog/assets/advance.html-bd76e31a.js" as="script"><link rel="prefetch" href="/blog/assets/compress.html-19f867fc.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-5d747e0d.js" as="script"><link rel="prefetch" href="/blog/assets/fingerprint.html-74df5d80.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-caac1a24.js" as="script"><link rel="prefetch" href="/blog/assets/miniWebpack.html-640bc47e.js" as="script"><link rel="prefetch" href="/blog/assets/mpa.html-dc91e647.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-c27afd58.js" as="script"><link rel="prefetch" href="/blog/assets/perfermance.html-2783f9cc.js" as="script"><link rel="prefetch" href="/blog/assets/resolve.html-b0ca34d9.js" as="script"><link rel="prefetch" href="/blog/assets/sourcecode.html-5e4272b7.js" as="script"><link rel="prefetch" href="/blog/assets/ssr.html-d18e6a7e.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-91a1440b.js" as="script"><link rel="prefetch" href="/blog/assets/ES10.html-b9a36ee0.js" as="script"><link rel="prefetch" href="/blog/assets/ES11.html-4b772d99.js" as="script"><link rel="prefetch" href="/blog/assets/ES12.html-b273fef0.js" as="script"><link rel="prefetch" href="/blog/assets/ES13.html-a4694136.js" as="script"><link rel="prefetch" href="/blog/assets/ES7.html-b1fd333a.js" as="script"><link rel="prefetch" href="/blog/assets/ES8.html-70de0ef1.js" as="script"><link rel="prefetch" href="/blog/assets/ES9.html-ad995181.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b3c200c4.js" as="script"><link rel="prefetch" href="/blog/assets/gc.html-879bbaaa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8c49129c.js" as="script"><link rel="prefetch" href="/blog/assets/mathematicalNotation.html-280346a4.js" as="script"><link rel="prefetch" href="/blog/assets/this.html-be64c28d.js" as="script"><link rel="prefetch" href="/blog/assets/1-two-sum.html-f3a55376.js" as="script"><link rel="prefetch" href="/blog/assets/14-longest-common-prefix.html-465081db.js" as="script"><link rel="prefetch" href="/blog/assets/15-3sum.html-7e96aef9.js" as="script"><link rel="prefetch" href="/blog/assets/18-4sum.html-f5377a98.js" as="script"><link rel="prefetch" href="/blog/assets/6-zigzag-conversion.html-02434e20.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-1f7213e1.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-5c53e6c7.js" as="script"><link rel="prefetch" href="/blog/assets/destructuring.html-3d95d00d.js" as="script"><link rel="prefetch" href="/blog/assets/function.html-5b1890fd.js" as="script"><link rel="prefetch" href="/blog/assets/let-const.html-f4c74b49.js" as="script"><link rel="prefetch" href="/blog/assets/module.html-2eb7c0e9.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-1e8d1a47.js" as="script"><link rel="prefetch" href="/blog/assets/promise.html-b0d01336.js" as="script"><link rel="prefetch" href="/blog/assets/reflect.html-d0dee0d2.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-a33f1c81.js" as="script"><link rel="prefetch" href="/blog/assets/symbol.html-d3d9d977.js" as="script"><link rel="prefetch" href="/blog/assets/architecture.html-bb003c77.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-19390284.js" as="script"><link rel="prefetch" href="/blog/assets/implementation.html-f677d051.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-37c96fc2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2c7734b5.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2a7064dc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-472548ee.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bbff9a7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-537e5be5.js" as="script"><link rel="prefetch" href="/blog/assets/QA.html-a69c1aa2.js" as="script"><link rel="prefetch" href="/blog/assets/githubproxy.html-15702a66.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3397593f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e247f25c.js" as="script"><link rel="prefetch" href="/blog/assets/advance.html-ce0e3ae7.js" as="script"><link rel="prefetch" href="/blog/assets/compress.html-18eb6643.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-c25f52f1.js" as="script"><link rel="prefetch" href="/blog/assets/fingerprint.html-2d7c877c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f3398cb3.js" as="script"><link rel="prefetch" href="/blog/assets/miniWebpack.html-7b84d436.js" as="script"><link rel="prefetch" href="/blog/assets/mpa.html-eef62d46.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-e2375368.js" as="script"><link rel="prefetch" href="/blog/assets/perfermance.html-c8dd4b3c.js" as="script"><link rel="prefetch" href="/blog/assets/resolve.html-088c6ba8.js" as="script"><link rel="prefetch" href="/blog/assets/sourcecode.html-d56c3ff3.js" as="script"><link rel="prefetch" href="/blog/assets/ssr.html-f6260664.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-899fa7db.js" as="script"><link rel="prefetch" href="/blog/assets/ES10.html-7774aa09.js" as="script"><link rel="prefetch" href="/blog/assets/ES11.html-ba657adf.js" as="script"><link rel="prefetch" href="/blog/assets/ES12.html-891ac07a.js" as="script"><link rel="prefetch" href="/blog/assets/ES13.html-8baa9a07.js" as="script"><link rel="prefetch" href="/blog/assets/ES7.html-b39e40d3.js" as="script"><link rel="prefetch" href="/blog/assets/ES8.html-6543214d.js" as="script"><link rel="prefetch" href="/blog/assets/ES9.html-2379df8e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-79c64d37.js" as="script"><link rel="prefetch" href="/blog/assets/gc.html-92db9a5b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0d3d37f3.js" as="script"><link rel="prefetch" href="/blog/assets/mathematicalNotation.html-ac26ff78.js" as="script"><link rel="prefetch" href="/blog/assets/this.html-f3621cf1.js" as="script"><link rel="prefetch" href="/blog/assets/1-two-sum.html-3ff91204.js" as="script"><link rel="prefetch" href="/blog/assets/14-longest-common-prefix.html-073b04b3.js" as="script"><link rel="prefetch" href="/blog/assets/15-3sum.html-eb2e5c75.js" as="script"><link rel="prefetch" href="/blog/assets/18-4sum.html-946c996f.js" as="script"><link rel="prefetch" href="/blog/assets/6-zigzag-conversion.html-d320ed4d.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-f54cd776.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-b1d437e8.js" as="script"><link rel="prefetch" href="/blog/assets/destructuring.html-700158ce.js" as="script"><link rel="prefetch" href="/blog/assets/function.html-01981adc.js" as="script"><link rel="prefetch" href="/blog/assets/let-const.html-164e398b.js" as="script"><link rel="prefetch" href="/blog/assets/module.html-09065d86.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-4e725ea9.js" as="script"><link rel="prefetch" href="/blog/assets/promise.html-ef7029a9.js" as="script"><link rel="prefetch" href="/blog/assets/reflect.html-82e27965.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-682b4bea.js" as="script"><link rel="prefetch" href="/blog/assets/symbol.html-1d32cc56.js" as="script"><link rel="prefetch" href="/blog/assets/architecture.html-9e3e39e0.js" as="script"><link rel="prefetch" href="/blog/assets/concept.html-c7b8ce71.js" as="script"><link rel="prefetch" href="/blog/assets/implementation.html-937cb1be.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0018c0ee.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b2423981.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-be216922.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-78eccbaa.js" as="script"><link rel="prefetch" href="/blog/assets/Playground-3eb19026.js" as="script"><link rel="prefetch" href="/blog/assets/index-e3112853.js" as="script"><link rel="prefetch" href="/blog/assets/CodeLink-dd177f41.js" as="script"><link rel="prefetch" href="/blog/assets/CodeTool-4b08e5c5.js" as="script"><link rel="prefetch" href="/blog/assets/index-4bed0a7c.js" as="script"><link rel="prefetch" href="/blog/assets/index-7d6bcf76.js" as="script"><link rel="prefetch" href="/blog/assets/index-37fe586b.js" as="script"><link rel="prefetch" href="/blog/assets/index-94db7077.js" as="script"><link rel="prefetch" href="/blog/assets/katex-21dcf7db.js" as="script"><link rel="prefetch" href="/blog/assets/mermaid.core-905ae0d6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container page-indent"><!--[--><header class="navbar" style="visibility:unset;"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><!----><span class="site-name can-hide">LOFT</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blog/" class="" aria-label="LOFT"><!--[--><!--]--> LOFT <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/playground" class="" aria-label="游乐场"><!--[--><!--]--> 游乐场 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文章"><span class="title">文章</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文章"><span class="title">文章</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/JSBooks/ECMAScript/" class="router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Leetcode/Array/1-two-sum.md" class="" aria-label="Leetcode"><!--[--><!--]--> Leetcode <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Bundler/" class="" aria-label="构建工具"><!--[--><!--]--> 构建工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Tutorial/" class="" aria-label="解决方案及教程"><!--[--><!--]--> 解决方案及教程 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="更多"><span class="title">更多</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="更多"><span class="title">更多</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/resume" class="" aria-label="简历"><!--[--><!--]--> 简历 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="切换颜色"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blog/" class="" aria-label="LOFT"><!--[--><!--]--> LOFT <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/playground" class="" aria-label="游乐场"><!--[--><!--]--> 游乐场 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="文章"><span class="title">文章</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="文章"><span class="title">文章</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/JSBooks/ECMAScript/" class="router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Leetcode/Array/1-two-sum.md" class="" aria-label="Leetcode"><!--[--><!--]--> Leetcode <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Bundler/" class="" aria-label="构建工具"><!--[--><!--]--> 构建工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/Tutorial/" class="" aria-label="解决方案及教程"><!--[--><!--]--> 解决方案及教程 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="更多"><span class="title">更多</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="更多"><span class="title">更多</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/resume" class="" aria-label="简历"><!--[--><!--]--> 简历 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">JavaScript <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item active">ECMAScript新特性 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/ECMAScript" class="router-link-active sidebar-item" aria-label="新特性简介"><!--[--><!--]--> 新特性简介 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item active collapsible">ES6新特性 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/ECMAScript/ES6/let-const.md" class="sidebar-item" aria-label="let,const 声明"><!--[--><!--]--> let,const 声明 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/symbol.md" class="sidebar-item" aria-label="Symbol 基本数据类型"><!--[--><!--]--> Symbol 基本数据类型 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/string.md" class="sidebar-item" aria-label="字符串扩展"><!--[--><!--]--> 字符串扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/destructuring.md" class="sidebar-item" aria-label="变量的解构赋值"><!--[--><!--]--> 变量的解构赋值 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/array.md" class="sidebar-item" aria-label="Array 扩展"><!--[--><!--]--> Array 扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/object.md" class="sidebar-item" aria-label="Object 扩展"><!--[--><!--]--> Object 扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/function.md" class="sidebar-item" aria-label="Function 扩展"><!--[--><!--]--> Function 扩展 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/class.md" class="sidebar-item" aria-label="Class 类"><!--[--><!--]--> Class 类 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/proxy.md" class="sidebar-item active" aria-label="Proxy"><!--[--><!--]--> Proxy <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/reflect.md" class="sidebar-item" aria-label="Reflect"><!--[--><!--]--> Reflect <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/promise.md" class="sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES6/module.md" class="sidebar-item" aria-label="Module"><!--[--><!--]--> Module <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/blog/JSBooks/ECMAScript/ES7.md" class="sidebar-item" aria-label="ES7新特性"><!--[--><!--]--> ES7新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES8.md" class="sidebar-item" aria-label="ES8新特性"><!--[--><!--]--> ES8新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES9.md" class="sidebar-item" aria-label="ES9新特性"><!--[--><!--]--> ES9新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES10.md" class="sidebar-item" aria-label="ES10新特性"><!--[--><!--]--> ES10新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES11.md" class="sidebar-item" aria-label="ES11新特性"><!--[--><!--]--> ES11新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES12.md" class="sidebar-item" aria-label="ES12新特性"><!--[--><!--]--> ES12新特性 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/ECMAScript/ES13.md" class="sidebar-item" aria-label="ES13新特性"><!--[--><!--]--> ES13新特性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">JavaScript基础 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/JavaScript" class="sidebar-item" aria-label="JavaScript实现"><!--[--><!--]--> JavaScript实现 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/this.md" class="sidebar-item" aria-label="this指向"><!--[--><!--]--> this指向 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/gc.md" class="sidebar-item" aria-label="垃圾回收机制"><!--[--><!--]--> 垃圾回收机制 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/Vue原理/index.md" class="sidebar-item" aria-label="Vue原理"><!--[--><!--]--> Vue原理 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item">React <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/JSBooks/JavaScript/React/concept.md" class="sidebar-item" aria-label="理念"><!--[--><!--]--> 理念 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/React/architecture.md" class="sidebar-item" aria-label="架构"><!--[--><!--]--> 架构 <!--[--><!--]--></a><!----></li><li><a href="/blog/JSBooks/JavaScript/React/implementation.md" class="sidebar-item" aria-label="实现"><!--[--><!--]--> 实现 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/blog/JSBooks/JavaScript/mathematicalNotation.md" class="sidebar-item" aria-label="数学标记"><!--[--><!--]--> 数学标记 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><!----><!--[--><!-- name="fade-slide-y" --><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><!--[--><div><h2 id="proxy" tabindex="-1"><a class="header-anchor" href="#proxy" aria-hidden="true">#</a> Proxy</h2><p>用于创建一个 Proxy 对象，可理解为代理对象。这个 Proxy 对象允许创建一个可以用来代替原始对象的新对象，但这个新对象可能会重新定义基本的对象操作，例如获取、设置和定义属性值等。代理对象通常用于记录属性访问、验证、格式化或者清除输入等操作。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>ProxyHandler&lt;T&gt;<span class="token punctuation">}</span> handler 代理配置对象，每个被代理的操作，都需要提供一个对应的处理函数，用于拦截对应的操作。
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span>
 */</span>
<span class="token keyword">new</span> <span class="token class-name">Proxy<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token operator">&gt;</span></span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> handler<span class="token operator">:</span> ProxyHandler<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="code-tool-container language-javascript line-numbers-mode" id="proxy-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxyObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">get </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">set </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxyObj<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// set value</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">++</span>proxyObj<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// get value</span>
<span class="token comment">// set value</span>
<span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p><a href="/blog/JSBooks/ECMAScript/ES6/reflect.html" class=""><code>Reflect</code></a>用于获取操作的默认行为。</p></div><h3 id="_13-种捕捉器-拦截操作" tabindex="-1"><a class="header-anchor" href="#_13-种捕捉器-拦截操作" aria-hidden="true">#</a> 13 种捕捉器(拦截操作)</h3><table><thead><tr><th style="text-align:left;">操作</th><th style="text-align:left;">详情</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="#get-target-prop-receiver"><code>get(target, prop, receiver)</code></a></td><td style="text-align:left;">拦截对象属性的读取</td></tr><tr><td style="text-align:left;"><a href="#set-target-prop-value-receiver"><code>set(target, prop, value, receiver)</code></a></td><td style="text-align:left;">拦截对象属性的设置</td></tr><tr><td style="text-align:left;"><a href="#has-target-prop"><code>has(target, prop)</code></a></td><td style="text-align:left;">拦截 <code>prop in proxy</code> 操作，返回布尔值</td></tr><tr><td style="text-align:left;"><a href="#defineproperty-target-prop-descriptor"><code>defineProperty(target, prop, descriptor)</code></a></td><td style="text-align:left;">拦截<code>Object.defineProperty(proxy, prop, descriptor)</code>、<code>Object.defineProperties(proxy, descriptors)</code>，返回布尔值</td></tr><tr><td style="text-align:left;"><a href="#deleteproperty-target-prop"><code>deleteProperty(target, prop)</code></a></td><td style="text-align:left;">拦截<code>delete proxy[prop]</code>操作，返回布尔值</td></tr><tr><td style="text-align:left;"><a href="#getprototypeof-target"><code>getPrototypeOf(target)</code></a></td><td style="text-align:left;">拦截<code>Object.getPrototypeOf(proxy)</code>，返回一个对象</td></tr><tr><td style="text-align:left;"><a href="#setprototypeof-target-proto"><code>setPrototypeOf(target, proto)</code></a></td><td style="text-align:left;">拦截<code>Object.setPrototypeOf(proxy, proto)</code>，返回布尔值</td></tr><tr><td style="text-align:left;"><a href="#getownpropertydescriptor-target-prop"><code>getOwnPropertyDescriptor(target, prop)</code></a></td><td style="text-align:left;">拦截<code>getOwnPropertyDescriptor(proxy, prop)</code>，返回属性的描述对象</td></tr><tr><td style="text-align:left;"><a href="#ownkeys-target"><code>ownKeys(target)</code></a></td><td style="text-align:left;">拦截<code>Object.getOwnPropertyNames(proxy)</code>、<code>Object.getOwnPropertySymbols(proxy)</code>、<code>Object.keys(proxy)</code>、<code>for...in</code>，返回一个数组</td></tr><tr><td style="text-align:left;"><a href="#preventextensions-target"><code>preventExtensions(target)</code></a></td><td style="text-align:left;">拦截<code>Object.preventExtensions(proxy)</code>，返回布尔值</td></tr><tr><td style="text-align:left;"><a href="#isextensible-target"><code>isExtensible(target)</code></a></td><td style="text-align:left;">拦截<code>Object.isExtensible(proxy)</code>，返回布尔值</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">当 <code>target</code> 为函数时，有下面两种额外操作可拦截</td></tr><tr><td style="text-align:left;"><a href="#apply-target-object-args"><code>apply(target, object, args)</code></a></td><td style="text-align:left;">拦截 Proxy 实例作为函数调用的操作，如<code>proxy(..args)</code>、<code>proxy.call(object, ...args)</code>、<code>proxy.apply(...args)</code></td></tr><tr><td style="text-align:left;"><a href="#construct-target-args"><code>construct(target, args)</code></a></td><td style="text-align:left;">拦截 Proxy 实例作为构造函数调用的操作，如<code>new proxy(...args)</code></td></tr></tbody></table><h4 id="get-target-prop-receiver" tabindex="-1"><a class="header-anchor" href="#get-target-prop-receiver" aria-hidden="true">#</a> <code>get(target, prop, receiver)</code></h4><p>get 捕捉器用于拦截属性的读取操作。<em>该方法可以被继承。</em></p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string | symbol<span class="token punctuation">}</span> prop 目标属性名称
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>any<span class="token punctuation">}</span> receiver  如果目标属性是一个 getter 访问器属性，则 receiver 就是本次读取属性所在的 this 对象。通常，这就是 proxy 对象本身（或者，如果我们从 proxy 继承，则是从该 proxy 继承的对象）
 */</span>
<span class="token function">get</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span> receiver<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="code-tool-container language-javascript line-numbers-mode" id="get-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token string">&#39;Not exist&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Foo&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Not exist&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>gender<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Not exist&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>如果拦截的属性描述为不可配置(<code>configurable: false</code>)并且不可写(<code>writable: false</code>)，则 Proxy 不能代理该属性。</p><div class="code-tool-container language-javascript line-numbers-mode" id="get-example2" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;Foo&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Bar&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: &#39;get&#39; on proxy: property &#39;name&#39; is a read-only and non-configurable data property on the proxy target but the proxy did not return its actual value (expected &#39;Foo&#39; but got &#39;Bar&#39;)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>示例：实现数组读取负数索引</p><div class="code-tool-container language-javascript line-numbers-mode" id="get-example3" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> prop <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          prop <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>length <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token operator">===</span> <span class="token string">&#39;push&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          target<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="set-target-prop-value-receiver" tabindex="-1"><a class="header-anchor" href="#set-target-prop-value-receiver" aria-hidden="true">#</a> <code>set(target, prop, value, receiver)</code></h4><p>set 捕捉器用于拦截属性的赋值操作。<em>该方法可以被继承。</em></p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string | symbol<span class="token punctuation">}</span> prop 目标属性名称
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>any<span class="token punctuation">}</span> newValue 目标属性的值
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>any<span class="token punctuation">}</span> receiver 与get捕捉器类似，仅与setter访问器属性相关
 * <span class="token keyword">@returns</span> 如果写入操作成功，应返回true，否则返回false(触发TypeError)
 */</span>
<span class="token function">set</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span> newValue<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> receiver<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>使用 <code>set</code> 捕捉器可以实现数据验证或者数据绑定。</p><div class="code-tool-container language-javascript line-numbers-mode" id="set-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

proxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: &#39;set&#39; on proxy: trap returned falsish for property &#39;2&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>对于 <code>set</code> 操作，必须在写入操作成功时返回 <code>true</code>。</p><p>如果返回任何<code>falsy</code>值，则该操作将触发<code>TypeError</code>。</p></div><h4 id="has-target-prop" tabindex="-1"><a class="header-anchor" href="#has-target-prop" aria-hidden="true">#</a> <code>has(target, prop)</code></h4><p><code>has</code>捕捉器用来拦截<code>HasProperty</code>操作。如<code>in</code>操作符(<code>for...in</code>循环除外)</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string | symbol<span class="token punctuation">}</span> prop 需检查的目标属性名称
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span> 返回布尔值
 */</span>
<span class="token function">has</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p><code>has()</code>方法拦截<code>HasProperty</code>操作，而不是<code>HasOwnProperty</code>操作，即该方法不判断一个属性是对象自身属性还是继承属性。</p><p>目标对象不可扩展(<code>Object.isExtensible(proxy)为false</code>)或其属性不可配置(<code>configurable: false</code>)，则<code>has()</code>报错。</p></div><div class="code-tool-container language-javascript line-numbers-mode" id="has-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token comment">// 隐藏某些属性</span>
<span class="token keyword">const</span> proxy1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">__privateKey</span><span class="token operator">:</span> <span class="token string">&#39;private&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;__&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> prop <span class="token keyword">in</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;__privateKey&#39;</span> <span class="token keyword">in</span> proxy1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token keyword">const</span> nonExtensionObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>nonExtensionObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> proxy2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>nonExtensionObj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span> <span class="token keyword">in</span> proxy2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: &#39;has&#39; on proxy: trap returned falsish for property &#39;foo&#39; but the proxy target is not extensible</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="defineproperty-target-prop-descriptor" tabindex="-1"><a class="header-anchor" href="#defineproperty-target-prop-descriptor" aria-hidden="true">#</a> <code>defineProperty(target, prop, descriptor)</code></h4><p><code>defineProperty</code>捕捉器用于拦截<code>Object.defineProperty()</code>操作。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string | symbol<span class="token punctuation">}</span> prop 目标属性名称
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>PropertyDescriptor<span class="token punctuation">}</span> attributes 目标属性描述对象
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span> 返回布尔值
 */</span>
<span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span> attributes<span class="token operator">:</span> PropertyDescriptor<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>目标对象不可扩展(<code>Object.isExtensible(proxy)为false</code>)，则<code>defineProperty()</code>不能增加目标对象上不存在的属性。</p><p>目标对象的属性不可写(<code>writable: false</code>)或不可配置(<code>configurable: false</code>)，则<code>defineProperty()</code>不可改变该属性描述。</p></div><div class="code-tool-container language-javascript line-numbers-mode" id="defineproperty-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> attributes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

proxy<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token string">&#39;no&#39;</span><span class="token punctuation">;</span> <span class="token comment">// won&#39;t work!</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="deleteproperty-target-prop" tabindex="-1"><a class="header-anchor" href="#deleteproperty-target-prop" aria-hidden="true">#</a> <code>deleteProperty(target, prop)</code></h4><p><code>deleteProperty</code> 捕捉器用于拦截<code>delete</code>操作，当返回<code>false</code>或抛出错误时，<code>delete</code>命令将无法正确执行。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string | symbol<span class="token punctuation">}</span> prop 目标属性名称
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span> 返回布尔值
 */</span>
<span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>目标对象自身的不可配置(<code>configurable: false</code>)属性，不能被<code>deleteProperty</code>方法删除。</p></div><div class="code-tool-container language-javascript line-numbers-mode" id="deleteproperty-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">__privateKey</span><span class="token operator">:</span> <span class="token string">&#39;private&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;__&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Invalid attempt to delete private property &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;.</span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">delete</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> proxy<span class="token punctuation">.</span>__privateKey<span class="token punctuation">;</span>
<span class="token comment">// Error: Invalid attempt to delete private property &quot;__privateKey&quot;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="getprototypeof-target" tabindex="-1"><a class="header-anchor" href="#getprototypeof-target" aria-hidden="true">#</a> <code>getPrototypeOf(target)</code></h4><p><code>getPrototypeOf</code>捕捉器用来拦截获取对象的原型。拦截以下操作：</p><ul><li><code>Object.prototype.__proto__</code></li><li><code>Object.prototype.isPrototypeOf()</code></li><li><code>Object.getPrototypeOf()</code></li><li><code>Reflect.getPrototypeOf()</code></li><li><code>instanceof</code></li></ul><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>object | null<span class="token punctuation">}</span> 返回值必须是对象或null
 */</span>
<span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> object <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>目标对象不可拓展，则<code>getPropertyOf()</code>必须返回目标对象的原型对象。</p></div><h4 id="setprototypeof-target-proto" tabindex="-1"><a class="header-anchor" href="#setprototypeof-target-proto" aria-hidden="true">#</a> <code>setPrototypeOf(target, proto)</code></h4><p><code>setPrototypeOf</code>捕捉器用来拦截设置对象的原型。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>object | null<span class="token punctuation">}</span> newPrototype 新的原型对象或null
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span> 返回布尔值
 */</span>
<span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> v<span class="token operator">:</span> object <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>目标对象不可拓展，则<code>setPropertyOf()</code>不可改变目标对象的原型。</p></div><div class="code-tool-container language-javascript line-numbers-mode" id="setprototypeof-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> nonExtensionObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>nonExtensionObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>nonExtensionObj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">setPropertyOf</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proto <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: #&lt;Object&gt; is not extensible</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="getownpropertydescriptor-target-prop" tabindex="-1"><a class="header-anchor" href="#getownpropertydescriptor-target-prop" aria-hidden="true">#</a> <code>getOwnPropertyDescriptor(target, prop)</code></h4><p><code>getOwnPropertyDescriptor</code> 捕捉器用于拦截<code>Object.getOwnPropertyDescriptor()</code>操作。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string | symbol<span class="token punctuation">}</span> prop 目标属性名称
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>PropertyDescriptor | undefined<span class="token punctuation">}</span> 返回属性描述对象或undefined
 */</span>
<span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">)</span><span class="token operator">:</span> PropertyDescriptor <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="code-tool-container language-javascript line-numbers-mode" id="getownpropertydescriptor-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">__privateKey</span><span class="token operator">:</span> <span class="token string">&#39;private&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;public&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;__&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> <span class="token string">&#39;__privateKey&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> <span class="token string">&#39;key&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { value: &#39;public&#39;, writable: true, enumerable: true, configurable: true }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="ownkeys-target" tabindex="-1"><a class="header-anchor" href="#ownkeys-target" aria-hidden="true">#</a> <code>ownKeys(target)</code></h4><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>ArrayLike&lt;string | symbol&gt;<span class="token punctuation">}</span>
 */</span>
<span class="token function">ownKeys</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> ArrayLike<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p><code>ownKeys</code>捕捉器拦截对象自身属性的读取操作。拦截以下操作：</p><ul><li><code>Object.getOwnPropertyNames()</code></li><li><code>Object.getOwnPropertySymbols()</code></li><li><code>Object.keys()</code></li><li><code>for...in</code>循环</li></ul><div class="custom-container warning"><p class="custom-container-title">注意</p><p>其返回的数组成员，只能是字符串或者<code>Symbol</code>值，否则报错。</p><p>目标对象包含不可配置(<code>configurable: false</code>)属性，则该属性必须被返回，否则报错。</p><p>目标对象不可扩展(<code>Object.isExtensible(proxy)为false</code>)，则返回的数组成员必须包含原对象的所有属性，且不能包含多余的属性，否则报错。</p></div><div class="code-tool-container language-javascript line-numbers-mode" id="ownkeys-example1" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>proxy1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: true is not a valid property name</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="code-tool-container language-javascript line-numbers-mode" id="ownkeys-example2" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> proxy2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>proxy2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: &#39;ownKeys&#39; on proxy: trap result did not include &#39;a&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="code-tool-container language-javascript line-numbers-mode" id="ownkeys-example3" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> proxy3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>proxy3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: &#39;ownKeys&#39; on proxy: trap returned extra keys but proxy target is non-extensible</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="preventextensions-target" tabindex="-1"><a class="header-anchor" href="#preventextensions-target" aria-hidden="true">#</a> <code>preventExtensions(target)</code></h4><p><code>preventExtensions</code>捕捉器用于拦截<code>Object.preventExtensions()</code>操作。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span> 返回布尔值
 */</span>
<span class="token function">preventExtensions</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>目标对象不可扩展(<code>Object.isExtensible(proxy)为false</code>)，则<code>preventExtensions</code>才能返回<code>true</code>，否则报错。</p></div><div class="code-tool-container language-javascript line-numbers-mode" id="preventextensions-example1" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">preventExtensions</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>proxy1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: &#39;preventExtensions&#39; on proxy: trap returned truish but the proxy target is extensible</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="code-tool-container language-javascript line-numbers-mode" id="preventextensions-example2" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">preventExtensions</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Need to invoke.</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>proxy2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Proxy {}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="isextensible-target" tabindex="-1"><a class="header-anchor" href="#isextensible-target" aria-hidden="true">#</a> <code>isExtensible(target)</code></h4><p><code>isExtensible</code>捕捉器用于拦截<code>Object.isExtensible()</code>操作。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>boolean<span class="token punctuation">}</span> 返回布尔值
 */</span>
<span class="token function">isExtensible</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>返回值必须与目标对象的 <code>isExtension</code> 属性保持一致，否则报错。</p></div><div class="code-tool-container language-javascript line-numbers-mode" id="isextensible-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function-variable function">isExtensible</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>proxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: &#39;isExtensible&#39; on proxy: trap result does not reflect extensibility of proxy target (which is &#39;true&#39;)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h4 id="apply-target-object-args" tabindex="-1"><a class="header-anchor" href="#apply-target-object-args" aria-hidden="true">#</a> <code>apply(target, object, args)</code></h4><p><code>apply</code> 捕捉器能使代理以函数的方式被调用。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>any<span class="token punctuation">}</span> thisArg this的值
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>any[]<span class="token punctuation">}</span> argArray 参数列表
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>any<span class="token punctuation">}</span>
 */</span>
<span class="token function">apply</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> thisArg<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> argArray<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>当使用原始函数实现一个包装器时：</p><div class="code-tool-container language-javascript line-numbers-mode" id="code-apply" data-ext="js" hl_lines="11,15" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> rest<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_sayHi</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token keyword">const</span> sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>_sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&#39;Moriarty&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (3秒后输出), Hello, Moriarty!</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div id="code-apply-11" for="code-apply-11" class="highlight-line"> </div><br><br><br><div id="code-apply-15" for="code-apply-15" class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>但是包装函数不会转发属性读取/写入操作或者任何其他操作。包装后，失去了对原始函数属性的访问，如上段代码<span class="code-link"><!--[--><code>11</code><!--]--></span>与<span class="code-link"><!--[--><code>15</code><!--]--></span>行。</p><div class="code-tool-container language-javascript line-numbers-mode" id="code-proxy-apply" data-ext="js" hl_lines="13,15-17" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">target</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_sayHi</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token keyword">const</span> sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>_sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&#39;Moriarty&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (3秒后输出), Hello, Moriarty!</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div id="code-proxy-apply-13" for="code-proxy-apply-13" class="highlight-line"> </div><br><div id="code-proxy-apply-15" for="code-proxy-apply-15" class="highlight-line"> </div><div for="code-proxy-apply-15" class="highlight-line"> </div><div for="code-proxy-apply-15" class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>使用 Proxy 可以将所有内容都转发到目标对象。可以看到<span class="code-link"><!--[--><code>13</code><!--]--></span>与<span class="code-link"><!--[--><code>15</code><!--]--></span>行的参数结果相同。不仅仅是调用，代理的所有操作都能被转发到原始函数。</p><h4 id="construct-target-args" tabindex="-1"><a class="header-anchor" href="#construct-target-args" aria-hidden="true">#</a> <code>construct(target, args)</code></h4><p><code>construct</code> 捕捉器用于拦截<code>new</code>命令。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>any[]<span class="token punctuation">}</span> argArray 参数列表
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Function<span class="token punctuation">}</span> newTarget new调用的原始构造器
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>object<span class="token punctuation">}</span> 必须返回一个对象
 */</span>
<span class="token function">construct</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> argArray<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> newTarget<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span><span class="token operator">:</span> object<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p><code>construct()</code>方法中的<code>this</code>指向的是<code>handler</code>，而不是实例对象。</p><div class="code-tool-container language-javascript line-numbers-mode" id="construct-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">construct</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">this === handler : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span> <span class="token operator">===</span> handler<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">called: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;, &#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been proxied.</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AnimalProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>Animal<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AnimalProxy</span><span class="token punctuation">(</span><span class="token string">&#39;Animal&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// this === handler : true</span>
<span class="token comment">// called: Animal</span>
<span class="token comment">// { value: &#39;Animal has been proxied.&#39; }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h3 id="proxy-revocable" tabindex="-1"><a class="header-anchor" href="#proxy-revocable" aria-hidden="true">#</a> <code>Proxy.revocable()</code></h3><p>一个 可撤销 的代理是可以被禁用的代理。</p><div class="code-tool-container language-typescript line-numbers-mode" data-ext="ts"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="ts"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><!----></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>T<span class="token punctuation">}</span> target 被代理的原始对象
 * <span class="token keyword">@param</span> <span class="token punctuation">{</span>ProxyHandler&lt;T&gt;<span class="token punctuation">}</span> handler 代理配置对象，每个被代理的操作，都需要提供一个对应的处理函数，用于拦截对应的操作。
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> proxy: T, revoke: () =&gt; void <span class="token punctuation">}</span><span class="token punctuation">}</span>
 */</span>
Proxy<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">revocable</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> handler<span class="token operator">:</span> ProxyHandler<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> proxy<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> <span class="token function-variable function">revoke</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>假设我们有一个资源，并且想随时关闭对该资源的访问。我们可以做的是将它包装成可一个撤销的代理，没有任何捕捉器。这样的代理会将操作转发给对象，并且我们可以随时将其禁用。</p><div class="code-tool-container language-javascript line-numbers-mode" id="proxy-revocable-example" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> proxy<span class="token punctuation">,</span> revoke <span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo</span>
<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: Cannot perform &#39;get&#39; on a proxy that has been revoked</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><h3 id="proxy-的局限性" tabindex="-1"><a class="header-anchor" href="#proxy-的局限性" aria-hidden="true">#</a> Proxy 的局限性</h3><h4 id="内建对象-内部插槽-internal-slot" tabindex="-1"><a class="header-anchor" href="#内建对象-内部插槽-internal-slot" aria-hidden="true">#</a> 内建对象 -&gt; 内部插槽(Internal Slot)</h4><p>许多内建对象，例如 <code>Map</code>，<code>Set</code>，<code>Date</code>，<code>Promise</code> 等，都使用了所谓的“内部插槽(Internal Slot)”。类似于属性，但仅限于内部使用，仅用于规范目的。例如，<code>Map</code>将项目(item)存储在<code>[[MapData]]</code>中。内建方法可以直接访问它们，而不通过<code>[[Get]]/[[Set]]</code>内部方法。所以<code>Proxy</code>无法拦截它们。</p><div class="code-tool-container language-javascript line-numbers-mode" id="internal-slot-example1" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: Method map.prototype.set called on incompatible receiver #&lt;Map&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>在内部，一个 <code>Map</code> 将所有数据存储在其 <code>[[MapData]]</code>内部插槽中。代理对象没有这样的插槽。内建方法 <code>Map.prototype.set</code> 方法试图访问内部属性 <code>this.[[MapData]]</code>，但由于 <code>this=proxy</code>，在 <code>proxy</code> 中无法找到它，因此抛错。</p><p>但是，将代码如下修改：</p><div class="code-tool-container language-javascript line-numbers-mode" id="internal-slot-example2" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>现在它正常工作了，因为 <code>get</code> 捕捉器将函数属性（例如 <code>map.set</code>）绑定到了目标对象(<code>map</code>)本身。</p><p>与前面的示例不同，<code>proxy.set(...)</code> 内部 <code>this</code> 的值并不是 <code>proxy</code>，而是原始的 <code>map</code>。因此，当 <code>set</code> 捕捉器的内部实现尝试访问 <code>this.[[MapData]]</code> 内部插槽时，成功执行。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>出于历史原因，内建 <code>Array</code> 没有使用内部插槽。所以，代理数组时没有上述问题。</p></div><h4 id="类的私有字段" tabindex="-1"><a class="header-anchor" href="#类的私有字段" aria-hidden="true">#</a> 类的私有字段</h4><p>类的私有字段也是通过内部插槽实现的，不通过<code>[[Get]]/[[Set]]</code>内部方法访问。</p><div class="code-tool-container language-javascript line-numbers-mode" id="class-private-example1" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  #name <span class="token operator">=</span> <span class="token string">&#39;Guest&#39;</span><span class="token punctuation">;</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: Cannot read private member #name from an object whose class did not declare it</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><p>上面代码在调用<code>getName()</code>是，<code>this</code>的值是代理后的<code>user</code>实例，它没有带有私有字段的内部插槽。</p><p>使用<code>bind</code>方案即可恢复正常。</p><div class="code-tool-container language-javascript line-numbers-mode" id="class-private-example2" data-ext="js" data-action="run"><div class="window-controls" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle class="" cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle><!----><!----></g></svg></div><div class="code-toolbox" data-ext="js"><!-- <Xicons icon="Edit" @click="handleEdit" /> --><!----><div class="code-btn code-play-btn"><div class="code-icon code-play-icon"></div><span class="code-text code-play-text">Run</span></div></div><!-- <CodeEditor v-if="isEdit" :size="size" v-bind="props" /> --><div class="code-content-container"><!--[--><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  #name <span class="token operator">=</span> <span class="token string">&#39;Guest&#39;</span><span class="token punctuation">;</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Guest&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><!--]--><!----></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p><code>bind</code>方案也有缺点： 它将原始对象暴露给该方法，可能使其进一步传递并破坏其他代理功能。</p></div></div><!--]--><!--[--><!--]--></div><!-- <PageMeta v-if="useMeta" /> --><nav class="page-nav"><p class="inner"><span class="prev"><a href="/blog/JSBooks/ECMAScript/ES6/class.md" class="" aria-label="Class 类"><!--[--><!--]--> Class 类 <!--[--><!--]--></a></span><span class="next"><a href="/blog/JSBooks/ECMAScript/ES6/reflect.md" class="" aria-label="Reflect"><!--[--><!--]--> Reflect <!--[--><!--]--></a></span></p></nav><!--[--><!--[--><!--]--><div class="footer"><p> MIT Licensed | Copyright © 2020-present <a href="https://github.com/moriarty47" target="_blank" rel="noopener noreferrer"> Moriarty47 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" data-darkreader-inline-fill="" style="--darkreader-inline-fill:currentColor;"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9" data-darkreader-inline-fill="" style="--darkreader-inline-fill:currentColor;"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--]--></main><!--]--><div class="page-catalog-container"><h5 class="tip">FLOOR</h5><ul><!--[--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_2"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#proxy" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Proxy"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="Proxy"><!--[-->Proxy<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#_13-种捕捉器-拦截操作" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="13 种捕捉器(拦截操作)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="13 种捕捉器(拦截操作)"><!--[-->13 种捕捉器(拦截操作)<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#get-target-prop-receiver" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="get(target, prop, receiver)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="get(target, prop, receiver)"><!--[-->get(target, prop, receiver)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#set-target-prop-value-receiver" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="set(target, prop, value, receiver)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="set(target, prop, value, receiver)"><!--[-->set(target, prop, value, receiver)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#has-target-prop" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="has(target, prop)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="has(target, prop)"><!--[-->has(target, prop)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#defineproperty-target-prop-descriptor" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="defineProperty(target, prop, descriptor)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="defineProperty(target, prop, descriptor)"><!--[-->defineProperty(target, prop, descriptor)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#deleteproperty-target-prop" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="deleteProperty(target, prop)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="deleteProperty(target, prop)"><!--[-->deleteProperty(target, prop)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#getprototypeof-target" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="getPrototypeOf(target)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="getPrototypeOf(target)"><!--[-->getPrototypeOf(target)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#setprototypeof-target-proto" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="setPrototypeOf(target, proto)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="setPrototypeOf(target, proto)"><!--[-->setPrototypeOf(target, proto)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#getownpropertydescriptor-target-prop" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="getOwnPropertyDescriptor(target, prop)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="getOwnPropertyDescriptor(target, prop)"><!--[-->getOwnPropertyDescriptor(target, prop)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#ownkeys-target" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="ownKeys(target)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="ownKeys(target)"><!--[-->ownKeys(target)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#preventextensions-target" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="preventExtensions(target)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="preventExtensions(target)"><!--[-->preventExtensions(target)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#isextensible-target" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="isExtensible(target)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="isExtensible(target)"><!--[-->isExtensible(target)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#apply-target-object-args" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="apply(target, object, args)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="apply(target, object, args)"><!--[-->apply(target, object, args)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#construct-target-args" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="construct(target, args)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="construct(target, args)"><!--[-->construct(target, args)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#proxy-revocable" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Proxy.revocable()"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="Proxy.revocable()"><!--[-->Proxy.revocable()<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_3"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#proxy-的局限性" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Proxy 的局限性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="Proxy 的局限性"><!--[-->Proxy 的局限性<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#内建对象-内部插槽-internal-slot" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="内建对象 -&gt; 内部插槽(Internal Slot)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="内建对象 -&gt; 内部插槽(Internal Slot)"><!--[-->内建对象 -&gt; 内部插槽(Internal Slot)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu page-catalog-menu-depth_4"><a aria-current="page" href="/blog/JSBooks/ECMAScript/ES6/proxy.html#类的私有字段" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="类的私有字段"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;" title="类的私有字段"><!--[-->类的私有字段<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--><!--]--></ul></div><!--]--></div><!----><!--]--></div>
    <div id="modal-container"></div>
    <div id="ctxmenu-container"></div>
    <script type="module" src="/blog/assets/app-bf7bc9cc.js" defer></script>
  </body>
</html>
