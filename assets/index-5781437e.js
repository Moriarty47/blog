import{$}from"./app-bf7bc9cc.js";import{M as H,P as I}from"./Playground-3eb19026.js";import{c as F,r,o as L,p as o,q as i,Q as s,O as V,P as D,N as _,V as h,z as d,w as g,v as l,R as T,_ as w,h as G,U as P}from"./framework-5411b43d.js";import U from"./index-34ff843a.js";const S=C([{key:"File",en:"File",items:[{key:"New",en:"New"},{key:"Open",en:"Open"},{key:"Save",en:"Save"},{key:"SaveAs",en:"SaveAs"},{key:"PageSettings",en:"PageSettings"},{key:"Print",en:"Print"},{key:"Exit",en:"Exit"}]},{key:"Edit",en:"Edit",items:[{key:"Redo",en:"Redo"},{key:"Undo",en:"Undo"},{key:"Cut",en:"Cut"},{key:"Copy",en:"Copy"},{key:"Paste",en:"Paste"},{key:"Delete",en:"Delete"},{key:"Search",en:"Search"},{key:"Find",en:"Find"},{key:"FindNext",en:"FindNext"},{key:"FindPrev",en:"FindPrev"},{key:"Replace",en:"Replace"},{key:"Goto",en:"Goto"},{key:"SelectAll",en:"SelectAll"},{key:"TimeDate",en:"TimeDate"}]},{key:"Format",en:"Format",items:[{key:"Wrap",en:"Wrap"},{key:"Font",en:"Font"}]},{key:"View",en:"View",items:[{key:"Zoom",en:"Zoom"},{key:"StatusBar",en:"StatusBar"}]},{key:"Help",en:"Help",items:[{key:"GetHelp",en:"GetHelp"},{key:"Feedback",en:"Feedback"},{key:"About",en:"About"}]}]);function C(a){return a&&a.map(t=>{const n=$(`NotepadI18n.${t.key}`);return{...t,name:n,title:n,items:C(t.items)}})}const z={class:"notepad"},O={class:"toolBar"},Z={key:0,class:"statusBar"},q={class:"rowcol"},Q={class:"scale"},X={class:"crlf"},Y={class:"encoding"},j=F({__name:"NotePad",props:{file:null},setup(a){const t=a,n=r(""),f=r(!0),u=r(!0),m=r({row:0,col:0}),x=r(1),N=r("Windows (CRLF)"),B=r("UTF-8");function W(e){e==="Wrap"?f.value=!f.value:e==="StatusBar"&&(u.value=!u.value)}function b(e){u.value&&(y(e),e.target.addEventListener("mousemove",y),e.target.addEventListener("mouseup",v))}function y(e){const c=e.offsetX,p=e.offsetY,k=parseInt(getComputedStyle(e.target).lineHeight),M=parseInt(getComputedStyle(e.target).fontSize),R=Math.round(c/M),A=Math.round(p/k);m.value={row:A,col:R}}function v(e){e.target.removeEventListener("mousemove",y),e.target.removeEventListener("mouseup",v)}function E(){const e=t.file.file,c=new FileReader;c.onload=()=>{n.value=c.result},c.readAsText(e,"utf-8")}return L(E),(e,c)=>(o(),i("div",z,[s("div",O,[(o(!0),i(V,null,D(d(S),(p,k)=>(o(),i("div",{key:p.key,class:"toolBtn"},[_(I,{placement:"bottom-start"},{default:h(()=>[_(H,{menus:d(S)[k].items,onSelect:W},null,8,["menus"])]),reference:h(()=>[s("button",{class:g(["iconBtn flyoutBtn",p.title])},l(p.title),3)]),_:2},1024)]))),128))]),s("div",{class:g(["contentWrapper",{autoWrap:f.value}])},[s("div",{class:"content",contenteditable:"true",onMousedown:b},l(n.value),33)],2),u.value?(o(),i("div",Z,[s("span",q,"第 "+l(m.value.row)+" 行， 第 "+l(m.value.col)+" 列",1),s("span",Q,l(x.value*100)+"%",1),s("span",X,l(N.value),1),s("span",Y,l(B.value),1)])):T("v-if",!0)]))}}),J=w(j,[["__file","NotePad.vue"]]),K={class:"appPagesWrapper"},ee=["src"],te={key:3,class:"appPagesWindow"},ne=F({__name:"index",props:{app:null},setup(a){const t=a,n=G(()=>/http(s?):\/\//.test(t.app.href)?"appPages":t.app.file?t.app.file.type:t.app.key);return(f,u)=>(o(),i("div",K,[d(n)==="appPages"?(o(),i("iframe",{key:0,src:a.app.href,frameborder:"0",class:"appPagesWindow",title:"broswer iframe"},null,8,ee)):d(n)==="text/plain"?(o(),P(J,{key:1,file:a.app},null,8,["file"])):d(n)==="Calculator"?(o(),P(U,{key:2})):(o(),i("div",te," Nothing here. "))]))}}),le=w(ne,[["__file","index.vue"]]);export{le as default};
