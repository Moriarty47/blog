import{_ as p,M as l,p as c,q as r,Q as n,N as t,V as e,t as s,a0 as o}from"./framework-5411b43d.js";const u="/blog/assets/happypack-64c68c70.png",i={},k=n("h2",{id:"webpack-构建优化",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#webpack-构建优化","aria-hidden":"true"},"#"),s(" Webpack 构建优化")],-1),d=n("h4",{id:"初级分析",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#初级分析","aria-hidden":"true"},"#"),s(" 初级分析")],-1),A=n("p",null,"使用 webpack 内置的 stats 展示构建的统计信息",-1),y=n("p",null,"package.json 中使用",-1),g=n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"scripts"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"build:stats"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"webpack --env production --json > stats.json"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])],-1),f=n("p",null,"Node.js 中使用",-1),m=n("p",null,"颗粒度太粗，看不出问题所在",-1),h=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" webpack "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'webpack'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" config "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'./webpack.config.js'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'production'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"webpack"),n("span",{class:"token punctuation"},"("),s("config"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("err"),n("span",{class:"token punctuation"},","),s(" stats")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("err"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(" console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"error"),n("span",{class:"token punctuation"},"("),s("err"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("stats"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasErrors"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(" console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"error"),n("span",{class:"token punctuation"},"("),s("stats"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'errors-only'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("stats"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),b=n("h4",{id:"速度分析",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#速度分析","aria-hidden":"true"},"#"),s(" 速度分析")],-1),B=n("ul",null,[n("li",null,"分析整个打包总耗时"),n("li",null,"每个 loader 和插件的执行耗时情况")],-1),_=n("p",null,"使用 speed-measure-webpack-plugin，可以看到每个 loader 和插件的执行耗时",-1),D=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" SpeedMeasureWebpackPlugin "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'speed-measure-webpack-plugin'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" smp "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"SpeedMeasureWebpackPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" webpackConfig "),n("span",{class:"token operator"},"="),s(" smp"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"wrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"module"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"rules"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token comment"},"// ..."),s(`
    `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"MyPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OtherPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),x=n("h4",{id:"体积分析",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#体积分析","aria-hidden":"true"},"#"),s(" 体积分析")],-1),w=n("ul",null,[n("li",null,"分析依赖的第三方模块文件大小"),n("li",null,"分析业务里面的组件代码大小")],-1),C=n("p",null,"使用 webpack-bundle-analyzer 分析体积，构建完成后会在 8888 端口展示大小",-1),j=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" BundleAnalyzerPlugin "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'webpack-bundle-analyzer'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"BundleAnalyzerPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),v=o('<h4 id="高版本-webpack-和-node-js" tabindex="-1"><a class="header-anchor" href="#高版本-webpack-和-node-js" aria-hidden="true">#</a> 高版本 webpack 和 Node.js</h4><p>webpack 4 优化原因</p><ul><li>V8 引擎优化(for of 替代 forEach，Map 和 Set 替代 Object，includes 替代 indexOf)</li><li>默认使用更快的 md4 hash 算法</li><li>webpack 的 AST 可以直接从 loader 传递给 AST，减少解析时间</li><li>使用字符串方法替代正则表达式</li></ul><h4 id="动态-polyfill-服务" tabindex="-1"><a class="header-anchor" href="#动态-polyfill-服务" aria-hidden="true">#</a> 动态 Polyfill 服务</h4><table><thead><tr><th style="text-align:left;">方案</th><th style="text-align:left;">优点</th><th style="text-align:left;">缺点</th><th style="text-align:left;">是否采用</th></tr></thead><tbody><tr><td style="text-align:left;">babel-polyfill</td><td style="text-align:left;">React16 官方推荐</td><td style="text-align:left;">1.包体积 200k+，难以单独抽离 Map，Set <br> 2. 项目里 React 是单独引用的 cdn，如果要用它，需要单独构建一份放在 React 前加载</td><td style="text-align:left;">x</td></tr><tr><td style="text-align:left;">babel-plugin-transform-runtime</td><td style="text-align:left;">能只 polyfill 用到的类和方法，相对体积较小</td><td style="text-align:left;">不能 polyfill 原型上的方法，不适用于业务项目的复杂开发环境</td><td style="text-align:left;">x</td></tr><tr><td style="text-align:left;">customize polyfill, e.g es6-shim</td><td style="text-align:left;">定制化高，体积小</td><td style="text-align:left;">1. 重复造轮子，容易在日后年久失修成为坑 <br> 2. 即使体积小，依然所有用户都要加载</td><td style="text-align:left;">x</td></tr><tr><td style="text-align:left;">polyfill-service</td><td style="text-align:left;">只给用户返回需要的 polyfill，社区维护</td><td style="text-align:left;">部分国内奇葩浏览器 UA 可能无法识别(但可以降级返回所需全部 polyfill)</td><td style="text-align:left;">O</td></tr></tbody></table><p>polyfill-service 原理</p><p>识别 User Agent，下发不同的 Polyfill</p><ul><li>使用 polyfill.io 官方提供的 cdn 服务</li><li>基于官方自建的 polyfill 服务</li></ul><h3 id="多进程-多实例" tabindex="-1"><a class="header-anchor" href="#多进程-多实例" aria-hidden="true">#</a> 多进程/多实例</h3><h4 id="构建" tabindex="-1"><a class="header-anchor" href="#构建" aria-hidden="true">#</a> 构建</h4><p>资源并行解析可选方案</p>',11),P=n("p",null,"thread-loader 每次 webpack 解析一个模块，thread-loader 会将它及它的依赖分配给 worker 线程中",-1),F=n("pre",{class:"language-javascript"},[n("code",null,[s("module"),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"module"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"rules"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"test"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},".js$"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"use"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
          `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token literal-property property"},"loader"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'thread-loader'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"options"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
              `),n("span",{class:"token literal-property property"},"workers"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"3"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token string"},"'babel-loader'"),s(`
        `),n("span",{class:"token punctuation"},"]"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),E=n("li",null,[n("p",null,"parallel-webpack")],-1),q=n("p",null,[s("HappyPack 每次 webpack 解析一个模块，HappyPack 会将它及它的依赖分配给 worker 线程中 "),n("img",{src:u,alt:"HappyPack"})],-1),S=n("pre",{class:"language-javascript"},[n("code",null,[s("exports"),n("span",{class:"token punctuation"},"."),s("plugins "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"HappyPack"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"id"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'jsx'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"threads"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"4"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"loaders"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'babel-loader'"),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"HappyPack"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"id"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'styles'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"threads"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"loaders"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'style-loader'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'css-loader'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'less-loader'"),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])],-1),T=n("h4",{id:"并行压缩",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#并行压缩","aria-hidden":"true"},"#"),s(" 并行压缩")],-1),H=n("p",null,"parallel-uglify-plugin",-1),z=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" ParallelUglifyPlugin "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'webpack-parallel-uglify-plugin'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"ParallelUglifyPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"uglifyJS"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"output"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token literal-property property"},"beautify"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"comments"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"compress"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token literal-property property"},"warnings"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"drop_console"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"collapse_vars"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"reduce_vars"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),M=n("p",null,"uglifyjs-webpack-plugin 开启 parallel 参数",-1),R=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" UglifyJSPlugin "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'uglifyjs-webpack-plugin'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"UglifyJSPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"uglifyOptions"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"warnings"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"parse"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"compress"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"mangle"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"output"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"toplevel"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"nameCache"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"ie8"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"keep_fnames"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"parallel"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),O=n("p",null,"terser-webpack-plugin 开启 parallel 参数",-1),I=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" TerserPlugin "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'terser-webpack-plugin'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"optimization"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"minimizer"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"TerserPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"parallel"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"4"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),W=n("h3",{id:"分包",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#分包","aria-hidden":"true"},"#"),s(" 分包")],-1),N=n("h4",{id:"设置-externals",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#设置-externals","aria-hidden":"true"},"#"),s(" 设置 Externals")],-1),U=n("ul",null,[n("li",null,[n("p",null,"使用 html-webpack-externals-plugin，将 react、react-dom 基础包通过 cdn 引入，不打入 bundle 中")]),n("li",null,[n("p",null,"自定义 plguin")])],-1),$=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"InjectExternalPlugin"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"constructor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"options"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("options "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token function"},"apply"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"compiler"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'InjectExternalPlugin is starting'"),s(),n("span",{class:"token comment"},"/* , this.options */"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" externals "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("options"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" externalScripts "),n("span",{class:"token operator"},"="),s(" externals"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"item"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"tagName"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'script'"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"attributes"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"defer"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'text/javascript'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"src"),n("span",{class:"token operator"},":"),s(" item"),n("span",{class:"token punctuation"},"."),s("entry"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"voidTag"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    compiler`),n("span",{class:"token punctuation"},"."),s("hooks"),n("span",{class:"token punctuation"},"."),s("compilation"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"tap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'InjectExternalPlugin'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("compilation"),n("span",{class:"token punctuation"},","),s(" compilationParams")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      HtmlWebpackPlugin`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getHooks"),n("span",{class:"token punctuation"},"("),s("compilation"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("alterAssetTagGroups"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"tapAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'InjectExternalPlugin'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("data"),n("span",{class:"token punctuation"},","),s(" cb")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" headTags "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(" data"),n("span",{class:"token punctuation"},";"),s(`
        headTags`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unshift"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"..."),s("externalScripts"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("headTags"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"cb"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(" data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"externals"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"react"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'React'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string-property property"},"'react-dom'"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'ReactDOM'"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"InjectExternalPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"externals"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token literal-property property"},"module"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'react'"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"global"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'React'"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"entry"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'https://cdn.bootcdn.net/ajax/libs/react/16.8.6/umd/react.production.min.js'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token literal-property property"},"module"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'react-dom'"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"global"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'ReactDOM'"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token literal-property property"},"entry"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'https://cdn.bootcdn.net/ajax/libs/react-dom/16.8.2/umd/react-dom.production.min.js'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),J=n("h4",{id:"预编译资源模块",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#预编译资源模块","aria-hidden":"true"},"#"),s(" 预编译资源模块")],-1),K=n("p",null,"使用 DLLPlguin 进行分包，DllReferencePlugin 对 manifest.json 引用，将 react、react-dom、redux、react-redux 基础包和业务基础包打包成一个文件。",-1),V=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" path "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'path'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" webpack "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'webpack'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"context"),n("span",{class:"token operator"},":"),s(" process"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"cwd"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"resolve"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"extensions"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'.js'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'.jsx'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'.json'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'.less'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'.css'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"modules"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'node_modules'"),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"entry"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"library"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'react'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'react-dom'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'redux'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'react-redux'"),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"output"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"filename"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'[name].dll.js'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'./build/library'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"library"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'[name]'"),s(),n("span",{class:"token comment"},"// 与下面name的值必须一致"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("webpack"),n("span",{class:"token punctuation"},"."),s("DllPlguin")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'[name]'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// 与上面library的值必须一致"),s(`
      `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'./build/library/[name].json'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 在 webpack.prod.js中引入"),s(`
module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("webpack"),n("span",{class:"token punctuation"},"."),s("DllReferencePlugin")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"manifest"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'./build/library/manifest.json'"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),L={class:"custom-container warning"},G=n("p",{class:"custom-container-title"},"注意",-1),Q=n("p",null,[s("这里通过 DllReferencePlugin 引入 "),n("code",null,"manifest.json"),s(" 文件后，还需要在 html 中引入对应的 "),n("code",null,"[name].dll.js"),s(" 文件")],-1),X=n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("head")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),s(),n("span",{class:"token attr-name"},"src"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("../build/library/library.dll.js"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"}),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("head")]),n("span",{class:"token punctuation"},">")]),s(`
`)])],-1),Y={class:"custom-container tip"},Z=n("p",{class:"custom-container-title"},"提示",-1),nn=n("p",null,[s("对于多个要分包的资源文件，更推荐使用 add-asset-html-webpack-plugin 插件自动引入分包后分离出来的 "),n("code",null,"dll.js"),s(" 文件。")],-1),sn=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token comment"},"// config.js 示例分开为两个dll文件"),s(`
module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"library"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"react"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'react'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"reactBucket"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'react-dom'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// webpack.dll.js"),s(`
`),n("span",{class:"token keyword"},"const"),s(" path "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'path'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" webpack "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'webpack'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" config "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'./config.js'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"entry"),n("span",{class:"token operator"},":"),s(" config"),n("span",{class:"token punctuation"},"."),s("library"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"output"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"filename"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'[name].dll.js'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'build/library'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"library"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'[name]_dll'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("webpack"),n("span",{class:"token punctuation"},"."),s("DllPlugin")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"context"),n("span",{class:"token operator"},":"),s(" __dirname"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'[name]_dll'"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'build/library/[name]-manifest.json'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// webpack.prod.js"),s(`
`),n("span",{class:"token keyword"},"const"),s(" path "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'path'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" webpack "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'webpack'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" config "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'./config.js'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" libraryKeys "),n("span",{class:"token operator"},"="),s(" Object"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"keys"),n("span",{class:"token punctuation"},"("),s("config"),n("span",{class:"token punctuation"},"."),s("library"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" AddAssetHtmlPlugin "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'add-asset-html-webpack-plugin'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token operator"},"..."),s("libraryKeys"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"key"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("webpack"),n("span",{class:"token punctuation"},"."),s("DllReferencePlugin")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"context"),n("span",{class:"token operator"},":"),s(" __dirname"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"manifest"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"./build/library/"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("key"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"-manifest.json"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"AddAssetHtmlPlugin"),n("span",{class:"token punctuation"},"("),s("libraryKeys"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"key"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"filepath"),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"build/library/"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("key"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},".dll.js"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"publicPath"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'../build/library'"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),an=n("h3",{id:"缓存提升二次构建速度",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#缓存提升二次构建速度","aria-hidden":"true"},"#"),s(" 缓存提升二次构建速度")],-1),tn=n("li",null,[n("p",null,"babel-loader 开启缓存"),n("p",null,[n("code",null,"['babel-loader?cacheDirectory=true']")])],-1),en=n("p",null,"terser-webpack-plugin 开启缓存",-1),on=n("pre",{class:"language-javascript"},[n("code",null,[s("module"),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"optimization"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"minimizer"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"TerserWebpackPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"parallel"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"cache"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),pn=n("p",null,"使用 cache-loader 或者 hard-source-webpack-plugin",-1),ln=n("pre",{class:"language-javascript"},[n("code",null,[s("module"),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"HardSourceWebpackPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),cn=n("h3",{id:"缩小构建目标",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#缩小构建目标","aria-hidden":"true"},"#"),s(" 缩小构建目标")],-1),rn=n("p",null,"尽可能的少构建模块，如：babel-loader 不解析 node_modules",-1),un=n("pre",{class:"language-javascript"},[n("code",null,[s("module"),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"module"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"rules"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"test"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"\\.js$"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"loader"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'happypack/loader'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"exclude"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'node_modules'"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),kn=n("p",null,"减少文件搜索范围",-1),dn=n("ul",null,[n("li",null,[s("优化 resolve.modules 配置("),n("strong",null,"减少模块搜索层级"),s(")")]),n("li",null,"优化 resolve.mainFields 配置"),n("li",null,"优化 resolve.extensions 配置"),n("li",null,"合理使用 alias")],-1),An=n("pre",{class:"language-javascript"},[n("code",null,[s("module"),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
 `),n("span",{class:"token literal-property property"},"resolve"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
   `),n("span",{class:"token literal-property property"},"modules"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s("path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'node_modules'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
   `),n("span",{class:"token literal-property property"},"mainFields"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'main'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
   `),n("span",{class:"token literal-property property"},"extensions"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'.js'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
   `),n("span",{class:"token literal-property property"},"alias"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
     `),n("span",{class:"token literal-property property"},"react"),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'./node_modules/react/dist/react.min.js'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
     `),n("span",{class:"token string-property property"},"'@utils'"),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'./utils/utils.js'"),n("span",{class:"token punctuation"},")"),s(`
   `),n("span",{class:"token punctuation"},"}"),s(`
 `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),yn=o('<h3 id="tree-shaking-擦除无用的-js-和-css" tabindex="-1"><a class="header-anchor" href="#tree-shaking-擦除无用的-js-和-css" aria-hidden="true">#</a> Tree Shaking 擦除无用的 JS 和 CSS</h3><p>一个模块可能有多个方法，只要其中的某个方法使用到了，则整个文件都会被打包到 bundle 中去，tree shaking 就是只把用到的方法打包到 bundle 中，没有使用到的方法会在 uglify 阶段被擦除掉。</p><p>webpack 默认支持，produciton 模式下默认开启，在 .babelrc 中设置 modules: false 即可</p><p><strong>必须是 ES6 语法，不支持 CJS</strong></p><p>利用 ES6 模块的特点</p><ul><li>只能作为模块顶层的语句出现</li><li>import 的模块名只能是字符串变量</li><li>import binding 是 immutable 的</li></ul><h4 id="擦除无用-css" tabindex="-1"><a class="header-anchor" href="#擦除无用-css" aria-hidden="true">#</a> 擦除无用 CSS</h4>',7),gn=n("p",null,"PurifyCSS 遍历代码，识别已经用到的 CSS class",-1),fn=n("p",null,"purgecss-webpack-plugin 和 mini-css-extract-plugin 配合使用",-1),mn=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"PATHS"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"src"),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),s("__dirname"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'src'"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
module`),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"module"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"rules"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"test"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"\\.css$"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"use"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
          MiniCssExtractPlugin`),n("span",{class:"token punctuation"},"."),s("loader"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token string"},"'css-loader'"),s(`
        `),n("span",{class:"token punctuation"},"]"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"plugins"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"MiniCssExtractPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"filename"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'[name].css'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"PurgeCssPlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"paths"),n("span",{class:"token operator"},":"),s(" glob"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"sync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token constant"},"PATHS"),n("span",{class:"token punctuation"},"."),s("src"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"/**/*"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"nodir"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),hn=n("li",null,[n("p",null,[s("uncss HTML 需要通过 jsdom 加载，所有的样式通过 PostCSS 解析，通过"),n("code",null,"document.querySelector"),s(" 来识别在 html 文件里面不存在的选择器")])],-1),bn=o('<h3 id="图片压缩" tabindex="-1"><a class="header-anchor" href="#图片压缩" aria-hidden="true">#</a> 图片压缩</h3><p>要求：基于 Node 库的 imagemin 或者 tinypng API</p><ul><li>有很多定制选项</li><li>可以引入更多第三方优化插件，如 <code>pngquant</code></li><li>可以处理多种图片格式</li></ul><p>imagemin 压缩原理：</p><ul><li><code>pngquant</code> 通过将图像转换为具有 alpha 通道(通常比 24/32 为 png 文件小 60%-8<code>0</code>%)的更高效的 8 为 png 格式，可显著减小文件大小</li><li><code>pngcrush</code> 通过尝试不同的压缩级别和 png 过滤方法来降低 png IDAT 数据流的大小</li><li><code>optipng</code> 设计灵感来自于 pngcrush，可将图像文件重新压缩为更小尺寸，而不会丢失任何信息</li><li><code>tinypng</code> 将 24 为 png 文件转化为更小有索引的 8 位图片，同时所有非必要的 metadata 也会被剥离</li></ul><p>使用：配置 image-webpack-loader</p>',6),Bn=n("pre",{class:"language-javascript"},[n("code",null,[s("module"),n("span",{class:"token punctuation"},"."),s("exports "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"module"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"rules"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"test"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"\\.(png|svg|jpg|gif|blob)$"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"use"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
          `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token literal-property property"},"loader"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'file-loader'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"options"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
              `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("filename"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"img/[name]"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("hash"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},".[ext]}"),n("span",{class:"token template-punctuation string"},"`")]),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
          `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token literal-property property"},"loader"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'image-webpack-loader'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"options"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
              `),n("span",{class:"token literal-property property"},"mozjpeg"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token literal-property property"},"progressive"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token literal-property property"},"quality"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"65"),s(`
              `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token literal-property property"},"optipng"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token literal-property property"},"enabled"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token literal-property property"},"pngquant"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token literal-property property"},"quality"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'65-90'"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token literal-property property"},"speed"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"4"),s(`
              `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token literal-property property"},"gifsicle"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token literal-property property"},"interlaced"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
              `),n("span",{class:"token literal-property property"},"webp"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token literal-property property"},"quality"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"75"),s(`
              `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
          `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"]"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1);function _n(Dn,xn){const a=l("CodeTool");return c(),r("div",null,[k,d,A,n("ul",null,[n("li",null,[y,t(a,{class:"language-json","data-ext":"json",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"%7B%0A%20%20%22scripts%22%3A%20%7B%0A%20%20%20%20%22build%3Astats%22%3A%20%22webpack%20--env%20production%20--json%20%3E%20stats.json%22%2C%0A%20%20%7D%0A%7D%0A",ext:"json"},{default:e(()=>[g]),_:1})]),n("li",null,[f,m,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20webpack%20%3D%20require('webpack')%3B%0Aconst%20config%20%3D%20require('.%2Fwebpack.config.js')('production')%3B%0A%0Awebpack(config%2C%20(err%2C%20stats)%20%3D%3E%20%7B%0A%20%20if%20(err)%20%7B%0A%20%20%20%20return%20console.error(err)%3B%0A%20%20%7D%0A%20%20if%20(stats.hasErrors())%20%7B%0A%20%20%20%20return%20console.error(stats.toString('errors-only'))%3B%0A%20%20%7D%0A%20%20console.log(stats)%3B%0A%7D)%3B%0A",ext:"javascript"},{default:e(()=>[h]),_:1})])]),b,B,_,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20SpeedMeasureWebpackPlugin%20%3D%20require('speed-measure-webpack-plugin')%3B%0A%0Aconst%20smp%20%3D%20new%20SpeedMeasureWebpackPlugin()%3B%0A%0Aconst%20webpackConfig%20%3D%20smp.wrap(%7B%0A%20%20module%3A%20%7B%0A%20%20%20%20rules%3A%20%5B%0A%20%20%20%20%20%20%2F%2F%20...%0A%20%20%20%20%5D%0A%20%20%7D%2C%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20MyPlugin()%2C%0A%20%20%20%20new%20OtherPlugin()%2C%0A%20%20%5D%0A%7D)%3B%0A",ext:"javascript"},{default:e(()=>[D]),_:1}),x,w,C,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20%7B%20BundleAnalyzerPlugin%20%7D%20%3D%20require('webpack-bundle-analyzer')%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20BundleAnalyzerPlugin()%3B%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[j]),_:1}),v,n("ul",null,[n("li",null,[P,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"module.exports%20%3D%20%7B%0A%20%20module%3A%20%7B%0A%20%20%20%20rules%3A%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20test%3A%20%2F.js%24%2F%2C%0A%20%20%20%20%20%20%20%20use%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20loader%3A%20'thread-loader'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20workers%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'babel-loader'%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%20%20%7D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[F]),_:1})]),E,n("li",null,[q,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"exports.plugins%20%3D%20%5B%0A%20%20new%20HappyPack(%7B%0A%20%20%20%20id%3A%20'jsx'%2C%0A%20%20%20%20threads%3A%204%2C%0A%20%20%20%20loaders%3A%20%5B'babel-loader'%5D%0A%20%20%7D)%2C%0A%20%20new%20HappyPack(%7B%0A%20%20%20%20id%3A%20'styles'%2C%0A%20%20%20%20threads%3A%202%2C%0A%20%20%20%20loaders%3A%20%5B'style-loader'%2C%20'css-loader'%2C%20'less-loader'%5D%0A%20%20%7D)%0A%5D%0A",ext:"javascript"},{default:e(()=>[S]),_:1})])]),T,n("ul",null,[n("li",null,[H,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20ParallelUglifyPlugin%20%3D%20require('webpack-parallel-uglify-plugin')%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20ParallelUglifyPlugin(%7B%0A%20%20%20%20%20%20uglifyJS%3A%20%7B%0A%20%20%20%20%20%20%20%20output%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20beautify%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20comments%3A%20false%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20compress%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20warnings%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20drop_console%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20collapse_vars%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20reduce_vars%3A%20true%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[z]),_:1})]),n("li",null,[M,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20UglifyJSPlugin%20%3D%20require('uglifyjs-webpack-plugin')%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20UglifyJSPlugin(%7B%0A%20%20%20%20%20%20uglifyOptions%3A%20%7B%0A%20%20%20%20%20%20%20%20warnings%3A%20false%2C%0A%20%20%20%20%20%20%20%20parse%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20compress%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20mangle%3A%20true%2C%0A%20%20%20%20%20%20%20%20output%3A%20null%2C%0A%20%20%20%20%20%20%20%20toplevel%3A%20false%2C%0A%20%20%20%20%20%20%20%20nameCache%3A%20null%2C%0A%20%20%20%20%20%20%20%20ie8%3A%20false%2C%0A%20%20%20%20%20%20%20%20keep_fnames%3A%20false%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20parallel%3A%20true%0A%20%20%20%20%7D)%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[R]),_:1})]),n("li",null,[O,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20TerserPlugin%20%3D%20require('terser-webpack-plugin')%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20optimization%3A%20%7B%0A%20%20%20%20minimizer%3A%20%5B%0A%20%20%20%20%20%20new%20TerserPlugin(%7B%0A%20%20%20%20%20%20%20%20parallel%3A%204%0A%20%20%20%20%20%20%7D)%0A%20%20%20%20%5D%0A%20%20%7D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[I]),_:1})])]),W,N,U,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"class%20InjectExternalPlugin%20%7B%0A%20%20constructor(options)%20%7B%0A%20%20%20%20this.options%20%3D%20options%3B%0A%20%20%7D%0A%0A%20%20apply(compiler)%20%7B%0A%20%20%20%20console.log('InjectExternalPlugin%20is%20starting'%20%2F*%20%2C%20this.options%20*%2F)%3B%0A%20%20%20%20const%20%7B%20externals%20%3D%20%5B%5D%20%7D%20%3D%20this.options%3B%0A%20%20%20%20const%20externalScripts%20%3D%20externals.map(item%20%3D%3E%20(%7B%0A%20%20%20%20%20%20tagName%3A%20'script'%2C%0A%20%20%20%20%20%20attributes%3A%20%7B%0A%20%20%20%20%20%20%20%20defer%3A%20false%2C%0A%20%20%20%20%20%20%20%20type%3A%20'text%2Fjavascript'%2C%0A%20%20%20%20%20%20%20%20src%3A%20item.entry%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20voidTag%3A%20false%2C%0A%20%20%20%20%7D))%3B%0A%20%20%20%20compiler.hooks.compilation.tap('InjectExternalPlugin'%2C%20(compilation%2C%20compilationParams)%20%3D%3E%20%7B%0A%20%20%20%20%20%20HtmlWebpackPlugin.getHooks(compilation).alterAssetTagGroups.tapAsync('InjectExternalPlugin'%2C%20(data%2C%20cb)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20%7B%20headTags%20%7D%20%3D%20data%3B%0A%20%20%20%20%20%20%20%20headTags.unshift(...externalScripts)%3B%0A%20%20%20%20%20%20%20%20console.log(headTags)%3B%0A%20%20%20%20%20%20%20%20cb(null%2C%20data)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%7D%0Amodule.exports%20%3D%20%7B%0A%20%20externals%3A%20%7B%0A%20%20%20%20react%3A%20'React'%2C%0A%20%20%20%20'react-dom'%3A%20'ReactDOM'%0A%20%20%7D%2C%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20InjectExternalPlugin(%7B%0A%20%20%20%20%20%20externals%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20module%3A%20'react'%2C%0A%20%20%20%20%20%20%20%20%20%20global%3A%20'React'%2C%0A%20%20%20%20%20%20%20%20%20%20entry%3A%20'https%3A%2F%2Fcdn.bootcdn.net%2Fajax%2Flibs%2Freact%2F16.8.6%2Fumd%2Freact.production.min.js'%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20module%3A%20'react-dom'%2C%0A%20%20%20%20%20%20%20%20%20%20global%3A%20'ReactDOM'%2C%0A%20%20%20%20%20%20%20%20%20%20entry%3A%20'https%3A%2F%2Fcdn.bootcdn.net%2Fajax%2Flibs%2Freact-dom%2F16.8.2%2Fumd%2Freact-dom.production.min.js'%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D)%2C%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[$]),_:1}),J,K,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20path%20%3D%20require('path')%3B%0Aconst%20webpack%20%3D%20require('webpack')%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20context%3A%20process.cwd()%2C%0A%20%20resolve%3A%20%7B%0A%20%20%20%20extensions%3A%20%5B'.js'%2C%20'.jsx'%2C%20'.json'%2C%20'.less'%2C%20'.css'%5D%2C%0A%20%20%20%20modules%3A%20%5B__dirname%2C%20'node_modules'%5D%0A%20%20%7D%2C%0A%20%20entry%3A%20%7B%0A%20%20%20%20library%3A%20%5B'react'%2C%20'react-dom'%2C%20'redux'%2C%20'react-redux'%5D%0A%20%20%7D%2C%0A%20%20output%3A%20%7B%0A%20%20%20%20filename%3A%20'%5Bname%5D.dll.js'%2C%0A%20%20%20%20path%3A%20path.resolve(__dirname%2C%20'.%2Fbuild%2Flibrary')%2C%0A%20%20%20%20library%3A%20'%5Bname%5D'%20%2F%2F%20%E4%B8%8E%E4%B8%8B%E9%9D%A2name%E7%9A%84%E5%80%BC%E5%BF%85%E9%A1%BB%E4%B8%80%E8%87%B4%0A%20%20%7D%2C%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20webpack.DllPlguin(%7B%0A%20%20%20%20%20%20name%3A%20'%5Bname%5D'%2C%20%2F%2F%20%E4%B8%8E%E4%B8%8A%E9%9D%A2library%E7%9A%84%E5%80%BC%E5%BF%85%E9%A1%BB%E4%B8%80%E8%87%B4%0A%20%20%20%20%20%20path%3A%20'.%2Fbuild%2Flibrary%2F%5Bname%5D.json'%2C%0A%20%20%20%20%7D)%0A%20%20%5D%0A%7D%3B%0A%2F%2F%20%E5%9C%A8%20webpack.prod.js%E4%B8%AD%E5%BC%95%E5%85%A5%0Amodule.exports%20%3D%20%7B%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20webpack.DllReferencePlugin(%7B%0A%20%20%20%20%20%20manifest%3A%20require('.%2Fbuild%2Flibrary%2Fmanifest.json')%0A%20%20%20%20%7D)%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[V]),_:1}),n("div",L,[G,Q,t(a,{class:"language-html","data-ext":"html",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"%3Chead%3E%0A%20%20%3Cscript%20src%3D%22..%2Fbuild%2Flibrary%2Flibrary.dll.js%22%3E%3C%2Fscript%3E%0A%3C%2Fhead%3E%0A",ext:"html"},{default:e(()=>[X]),_:1})]),n("div",Y,[Z,nn,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"%2F%2F%20config.js%20%E7%A4%BA%E4%BE%8B%E5%88%86%E5%BC%80%E4%B8%BA%E4%B8%A4%E4%B8%AAdll%E6%96%87%E4%BB%B6%0Amodule.exports%20%3D%20%7B%0A%20%20library%3A%20%7B%0A%20%20%20%20react%3A%20%5B'react'%5D%2C%0A%20%20%20%20reactBucket%3A%20%5B'react-dom'%5D%2C%0A%20%20%7D%0A%7D%3B%0A%2F%2F%20webpack.dll.js%0Aconst%20path%20%3D%20require('path')%3B%0Aconst%20webpack%20%3D%20require('webpack')%3B%0Aconst%20config%20%3D%20require('.%2Fconfig.js')%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20entry%3A%20config.library%2C%0A%20%20output%3A%20%7B%0A%20%20%20%20filename%3A%20'%5Bname%5D.dll.js'%2C%0A%20%20%20%20path%3A%20path.join(__dirname%2C%20'build%2Flibrary')%2C%0A%20%20%20%20library%3A%20'%5Bname%5D_dll'%2C%0A%20%20%7D%2C%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20webpack.DllPlugin(%7B%0A%20%20%20%20%20%20context%3A%20__dirname%2C%0A%20%20%20%20%20%20name%3A%20'%5Bname%5D_dll'%2C%0A%20%20%20%20%20%20path%3A%20path.join(__dirname%2C%20'build%2Flibrary%2F%5Bname%5D-manifest.json')%2C%0A%20%20%20%20%7D)%0A%20%20%5D%0A%7D%3B%0A%2F%2F%20webpack.prod.js%0Aconst%20path%20%3D%20require('path')%3B%0Aconst%20webpack%20%3D%20require('webpack')%3B%0Aconst%20config%20%3D%20require('.%2Fconfig.js')%3B%0Aconst%20libraryKeys%20%3D%20Object.keys(config.library)%3B%0Aconst%20AddAssetHtmlPlugin%20%3D%20require('add-asset-html-webpack-plugin')%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20plugins%3A%20%5B%0A%20%20%20%20...libraryKeys.map(key%20%3D%3E%20new%20webpack.DllReferencePlugin(%7B%0A%20%20%20%20%20%20context%3A%20__dirname%2C%0A%20%20%20%20%20%20manifest%3A%20require(%60.%2Fbuild%2Flibrary%2F%24%7Bkey%7D-manifest.json%60)%0A%20%20%20%20%7D))%2C%0A%20%20%20%20new%20AddAssetHtmlPlugin(libraryKeys.map(key%20%3D%3E%20(%7B%0A%20%20%20%20%20%20filepath%3A%20path.resolve(__dirname%2C%20%60build%2Flibrary%2F%24%7Bkey%7D.dll.js%60)%2C%0A%20%20%20%20%20%20publicPath%3A%20'..%2Fbuild%2Flibrary'%0A%20%20%20%20%7D)))%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[sn]),_:1})]),an,n("ul",null,[tn,n("li",null,[en,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"module.exports%20%3D%20%7B%0A%20%20optimization%3A%20%7B%0A%20%20%20%20minimizer%3A%20%5B%0A%20%20%20%20%20%20new%20TerserWebpackPlugin(%7B%0A%20%20%20%20%20%20%20%20parallel%3A%20true%2C%0A%20%20%20%20%20%20%20%20cache%3A%20true%2C%0A%20%20%20%20%20%20%7D)%0A%20%20%20%20%5D%0A%20%20%7D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[on]),_:1})]),n("li",null,[pn,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"module.exports%20%3D%20%7B%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20HardSourceWebpackPlugin()%2C%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[ln]),_:1})])]),cn,n("ul",null,[n("li",null,[rn,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"module.exports%20%3D%20%7B%0A%20%20module%3A%20%7B%0A%20%20%20%20rules%3A%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20test%3A%20%2F%5C.js%24%2F%2C%0A%20%20%20%20%20%20%20%20loader%3A%20'happypack%2Floader'%2C%0A%20%20%20%20%20%20%20%20exclude%3A%20'node_modules'%2C%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%20%20%7D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[un]),_:1})]),n("li",null,[kn,dn,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"module.exports%20%3D%20%7B%0A%20resolve%3A%20%7B%0A%20%20%20modules%3A%20%5Bpath.resolve(__dirname%2C%20'node_modules')%5D%2C%0A%20%20%20mainFields%3A%20%5B'main'%5D%2C%0A%20%20%20extensions%3A%20%5B'.js'%5D%2C%0A%20%20%20alias%3A%20%7B%0A%20%20%20%20%20react%3A%20path.resolve(__dirname%2C%20'.%2Fnode_modules%2Freact%2Fdist%2Freact.min.js')%2C%0A%20%20%20%20%20'%40utils'%3A%20path.resolve(__dirname%2C%20'.%2Futils%2Futils.js')%0A%20%20%20%7D%0A%20%7D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[An]),_:1})])]),yn,n("ul",null,[n("li",null,[gn,fn,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"const%20PATHS%20%3D%20%7B%0A%20%20src%3A%20path.join(__dirname%2C%20'src')%0A%7D%3B%0Amodule.exports%20%3D%20%7B%0A%20%20module%3A%20%7B%0A%20%20%20%20rules%3A%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20test%3A%20%2F%5C.css%24%2F%2C%0A%20%20%20%20%20%20%20%20use%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20MiniCssExtractPlugin.loader%2C%0A%20%20%20%20%20%20%20%20%20%20'css-loader'%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%20%20%7D%2C%0A%20%20plugins%3A%20%5B%0A%20%20%20%20new%20MiniCssExtractPlugin(%7B%0A%20%20%20%20%20%20filename%3A%20'%5Bname%5D.css'%2C%0A%20%20%20%20%7D)%2C%0A%20%20%20%20new%20PurgeCssPlugin(%7B%0A%20%20%20%20%20%20paths%3A%20glob.sync(%60%24%7BPATHS.src%7D%2F**%2F*%60%2C%20%7B%20nodir%3A%20true%20%7D)%0A%20%20%20%20%7D)%0A%20%20%5D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[mn]),_:1})]),hn]),bn,t(a,{class:"language-javascript","data-ext":"js",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"false",async:"undefined",content:"module.exports%20%3D%20%7B%0A%20%20module%3A%20%7B%0A%20%20%20%20rules%3A%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20test%3A%20%2F%5C.(png%7Csvg%7Cjpg%7Cgif%7Cblob)%24%2F%2C%0A%20%20%20%20%20%20%20%20use%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20loader%3A%20'file-loader'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%60%24%7Bfilename%7Dimg%2F%5Bname%5D%24%7Bhash%7D.%5Bext%5D%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20loader%3A%20'image-webpack-loader'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mozjpeg%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20progressive%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20quality%3A%2065%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20optipng%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enabled%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pngquant%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20quality%3A%20'65-90'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%3A%204%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20gifsicle%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20interlaced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20webp%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20quality%3A%2075%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%20%20%7D%0A%7D%3B%0A",ext:"javascript"},{default:e(()=>[Bn]),_:1})])}const Cn=p(i,[["render",_n],["__file","perfermance.html.vue"]]);export{Cn as default};
