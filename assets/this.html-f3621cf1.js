import{_ as u,M as l,p as d,q as r,N as a,V as t,Q as n,t as s,a0 as o}from"./framework-5411b43d.js";const k={},h=n("h2",{id:"javascript-中的-this",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#javascript-中的-this","aria-hidden":"true"},"#"),s(" JavaScript 中的 "),n("code",null,"this")],-1),b=n("p",null,[s("下面是一个示例，通过给"),n("code",null,"getName()"),s("和"),n("code",null,"say()"),s("显式传入一个上下文对象。")],-1),m=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"getName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"context"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"return"),s(" context"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"context"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Hello, I'm "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token function"},"getName"),n("span",{class:"token punctuation"},"("),s("context"),n("span",{class:"token punctuation"},")"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"."),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Moriarty'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),f=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),A=n("p",null,[s("而 "),n("code",null,"this"),s(" 提供了一种更优雅的方式隐式传递一个对象引用，从而使得 API 的设计更加简洁且便于复用。")],-1),g=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"getName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Hello, I'm "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token function"},"getName"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"call"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},")"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"call"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Moriarty'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),v=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),y=o('<p>随着应用越来越庞大，显式传递上下文对象的使用方式也可能会越来越复杂，从而使代码变得混乱。使用 <code>this</code> 会在一定程度上减少这种混乱。</p><p>我们需要清楚的是，<code>this</code> 是<strong>在运行时进行绑定的</strong>，它的上下文取决于函数调用时的各种条件。 <code>this</code> 的绑定和函数声明的位置没有任何关系，<strong>只取决于函数的调用方式</strong>，也就是<strong>函数的调用位置</strong>。</p><h3 id="函数的调用位置" tabindex="-1"><a class="header-anchor" href="#函数的调用位置" aria-hidden="true">#</a> 函数的调用位置</h3><p>要确定 <code>this</code> 指向，就要正确分析函数的调用位置，也就需要分析函数调用栈(即到达当前执行位置所调用的所有函数)。函数的调用位置就在当前正在执行的函数的<em>前一个调用</em>中。</p>',4),B=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"baz"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'baz'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"bar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'bar'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token function"},"baz"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'foo'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token function"},"bar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),_=n("div",{class:"highlight-lines"},[n("br"),n("div",{id:"this-call-stack-example-2",for:"this-call-stack-example-2",class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("div",{id:"this-call-stack-example-6",for:"this-call-stack-example-6",class:"highlight-line"}," "),n("div",{id:"this-call-stack-example-7",for:"this-call-stack-example-7",class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("div",{id:"this-call-stack-example-11",for:"this-call-stack-example-11",class:"highlight-line"}," "),n("div",{id:"this-call-stack-example-12",for:"this-call-stack-example-12",class:"highlight-line"}," "),n("br"),n("br"),n("div",{id:"this-call-stack-example-15",for:"this-call-stack-example-15",class:"highlight-line"}," ")],-1),E=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),x=n("h3",{id:"绑定规则",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#绑定规则","aria-hidden":"true"},"#"),s(" 绑定规则")],-1),w=n("h4",{id:"默认绑定",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#默认绑定","aria-hidden":"true"},"#"),s(" 默认绑定")],-1),C=n("p",null,"最常用的绑定方式，即独立的函数调用。",-1),D=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token comment"},"// 全局作用域"),s(`
`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("a"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'Hello, world!'"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"var"),s(" a "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'Hello, world!'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"bar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token string"},"'use strict'"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("b"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),s("e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("e"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// TypeError: Cannot read properties of undefined (reading 'b')"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"var"),s(" b "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'What the heck?'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"bar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"baz"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'This is important!'"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"var"),s(" c "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'This is important!'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token string"},"'use strict'"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token function"},"baz"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),F=n("div",{class:"highlight-lines"},[n("br"),n("div",{id:"default-bind-this-example-2",for:"default-bind-this-example-2",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-2",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-2",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-2",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-2",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-2",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-2",class:"highlight-line"}," "),n("br"),n("div",{id:"default-bind-this-example-10",for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-10",class:"highlight-line"}," "),n("br"),n("div",{id:"default-bind-this-example-23",for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," "),n("div",{for:"default-bind-this-example-23",class:"highlight-line"}," ")],-1),j=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),H=n("code",null,"非严格模式",-1),N=n("code",null,"foo",-1),z=n("code",null,"this",-1),L=n("code",null,"this",-1),S=n("code",null,"foo()",-1),M=n("strong",null,"不带任何修饰符的函数引用",-1),T=n("code",null,"严格模式",-1),W=n("code",null,"this",-1),U=n("code",null,"undefined",-1),$=n("code",null,"这一种情况",-1),I=n("code",null,"baz",-1),V=n("code",null,"baz()",-1),O=n("h4",{id:"隐式绑定",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#隐式绑定","aria-hidden":"true"},"#"),s(" 隐式绑定")],-1),J=n("br",null,null,-1),Z=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" foo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"a"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Hello'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("a"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

foo`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'Hello'"),s(`
`)])],-1),P=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),q=n("p",null,[s("当函数引用有上下文对象时，"),n("strong",null,"隐式绑定"),s("会把函数调用中的 "),n("code",null,"this"),s(" 绑定到这个上下文对象。通常来说，对象属性引用链中最后一层调用对象即为 "),n("code",null,"this"),s(" 的绑定对象。")],-1),G=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"var"),s(" b "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'global b'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("b"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"const"),s(" foo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"a"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Hello'"),n("span",{class:"token punctuation"},","),s(`
  say`),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"bar"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"b"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'World'"),n("span",{class:"token punctuation"},","),s(`
    say`),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

foo`),n("span",{class:"token punctuation"},"."),s("bar"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'World'"),s(`

`),n("span",{class:"token keyword"},"const"),s(" say2 "),n("span",{class:"token operator"},"="),s(" foo"),n("span",{class:"token punctuation"},"."),s("say"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token function"},"say2"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'global b'"),s(`

`),n("span",{class:"token keyword"},"const"),s(" say3 "),n("span",{class:"token operator"},"="),s(" foo"),n("span",{class:"token punctuation"},"."),s("bar"),n("span",{class:"token punctuation"},"."),s("say"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token function"},"say3"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"//  'global b'"),s(`
`)])],-1),Q=n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{id:"implicit-bind-this-example2-18",for:"implicit-bind-this-example2-18",class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("div",{id:"implicit-bind-this-example2-22",for:"implicit-bind-this-example2-22",class:"highlight-line"}," ")],-1),K=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),R=n("code",null,"18/22",-1),X=n("code",null,"say2",-1),Y=n("code",null,"say3",-1),nn=n("code",null,"say",-1),sn=n("strong",null,"默认绑定",-1),an=n("code",null,"this",-1),tn=n("code",null,"this",-1),en=n("code",null,"this",-1),on=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("a"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"callSay"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"func"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"func"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"const"),s(" foo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"a"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Hello'"),n("span",{class:"token punctuation"},","),s(`
  say`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"var"),s(" a "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'World'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"callSay"),n("span",{class:"token punctuation"},"("),s("foo"),n("span",{class:"token punctuation"},"."),s("say"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'World'"),s(`
`)])],-1),cn=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),ln=n("h4",{id:"显式绑定",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#显式绑定","aria-hidden":"true"},"#"),s(" 显式绑定")],-1),pn=n("p",null,[s("我们可以使用函数的内置方法： "),n("code",null,"bind"),s(" 、"),n("code",null,"call"),s(" 以及 "),n("code",null,"apply"),s(" 方法，显式绑定 "),n("code",null,"this"),s(" 指向。")],-1),un=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("a"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"const"),s(" foo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"a"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Hello'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"call"),n("span",{class:"token punctuation"},"("),s("foo"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'Hello'"),s(`
`)])],-1),dn=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),rn=o("<p>通过 <code>say.call(obj)</code>，可以在调用 <code>say</code> 时把它的 <code>this</code> 强制绑定到 <code>obj</code> 上。当这个 <code>obj</code> 是一个原始值时，该原始值会通过“装箱”函数( <code>new String()</code> 、<code>new Boolean()</code> 、<code>new Number()</code> )转换为其对象形式。</p>",1),kn=n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token function"},"apply"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Function"),n("span",{class:"token punctuation"},","),s(" thisArg"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},","),s(" argArray"),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"call"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Function"),n("span",{class:"token punctuation"},","),s(" thisArg"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"..."),s("argArray"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"bind"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Function"),n("span",{class:"token punctuation"},","),s(" thisArg"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"..."),s("argArray"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},";"),s(`
`)])],-1),hn=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),bn=o("<p><code>call</code> 与 <code>apply</code> 都是绑定 <code>this</code> 并运行函数，从函数签名可以看出 <code>call</code> 与 <code>apply</code> 的区别在于参数形式的不同。 <code>bind</code> 方法只是一种硬绑定，只绑定 <code>this</code> 并不运行函数。</p>",1),mn=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"b"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("a"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},", "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("b"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"!"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"const"),s(" foo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"a"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Hello'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" bindSay "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"say"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"bind"),n("span",{class:"token punctuation"},"("),s("foo"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token function"},"bindSay"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'world'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'Hello, world!'"),s(`
`)])],-1),fn=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),An=o('<h4 id="new-绑定" tabindex="-1"><a class="header-anchor" href="#new-绑定" aria-hidden="true">#</a> new 绑定</h4><p>JavaScript 中 <code>new</code> 的机制与面向类的语言机制完全不同。JavaScript 中的构造函数实际上只是一些使用 <code>new</code> 操作符时被调用的函数。</p><p>实际上，包括内置对象函数在内的所有函数都可以用 <code>new</code> 来调用，这种调用被称为 <strong>构造函数调用</strong>。 使用 <code>new</code> 来调用函数时，会自动执行下面的操作：</p><ul><li>创建一个新对象；</li><li>对新对象执行 <code>[[Prototype]]</code> 连接；</li><li>将新对象绑定到函数调用的 <code>this</code>；</li><li>如果函数没有返回其他对象，则 <code>new</code> 表达式中的函数会自动返回上述新对象。</li></ul>',4),gn=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"Foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"name"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("name "),n("span",{class:"token operator"},"="),s(" name"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"const"),s(" foo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Hello'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("foo"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'Hello'"),s(`
`)])],-1),vn=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1),yn=n("h4",{id:"优先级",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#优先级","aria-hidden":"true"},"#"),s(" 优先级")],-1),Bn=o('<p>当把 <code>null</code> 或 <code>undefined</code> 作为 <code>this</code> 的绑定对象传入 <code>call</code> 、<code>apply</code> 或 <code>bind</code> 时，这些值会在调用时被忽略，实际应用的是<strong>默认绑定</strong>规则。</p><h4 id="dmz-对象" tabindex="-1"><a class="header-anchor" href="#dmz-对象" aria-hidden="true">#</a> DMZ 对象</h4><p>DMZ 对象(demilitarized zone) 非军事区对象，即一个空的非委托对象。</p><p>如果我们在忽略 <code>this</code> 绑定时总是传入一个 DMZ 对象，可以将 <code>this</code> 的使用限制在这个空对象中，不会对全局对象产生任何副作用(影响)。</p>',4),_n=n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("a"),n("span",{class:"token punctuation"},","),s(" b")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("a"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("b"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"!"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"NULL"),s(),n("span",{class:"token operator"},"="),s(" Object"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"apply"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"NULL"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'Hello'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'world'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'Hello world!'"),s(`
`),n("span",{class:"token keyword"},"const"),s(" bindFoo "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"foo"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"bind"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"NULL"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'Hello'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token function"},"bindFoo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'world'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// 'Hello world!'"),s(`
`)])],-1),En=n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})],-1);function xn(wn,Cn){const e=l("CodeTool"),c=l("CodeLink"),i=l("Mermaid"),p=l("ClientOnly");return d(),r("div",null,[h,b,a(e,{id:"without-this-example",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"function%20getName(context)%20%7B%0A%20%20return%20context.name%3B%0A%7D%0A%0Afunction%20say(context)%20%7B%0A%20%20console.log(%60Hello%2C%20I'm%20%24%7BgetName(context)%7D.%60)%3B%0A%7D%0A%0Asay(%7B%20name%3A%20'Moriarty'%20%7D)%3B%0A",ext:"javascript"},{default:t(()=>[m,f]),_:1}),A,a(e,{id:"with-this-example",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"function%20getName()%20%7B%0A%20%20return%20this.name%3B%0A%7D%0A%0Afunction%20say()%20%7B%0A%20%20console.log(%60Hello%2C%20I'm%20%24%7BgetName.call(this)%7D%60)%3B%0A%7D%0A%0Asay.call(%7B%20name%3A%20'Moriarty'%20%7D)%3B%0A",ext:"javascript"},{default:t(()=>[g,v]),_:1}),y,a(e,{id:"this-call-stack-example",class:"language-javascript line-numbers-mode","data-ext":"js",hl_lines:"15,11#当前调用栈是：foo，即全局作用域,12,6#当前调用栈是：foo>bar,7,2#当前调用栈是：foo>bar>baz","data-step-hl":"true",fullscreen:"undefined",steps:"15,11#当前调用栈是：foo，即全局作用域,12,6#当前调用栈是：foo>bar,7,2#当前调用栈是：foo>bar>baz",action:"undefined",winCtrl:"undefined",async:"undefined",content:"function%20baz()%20%7B%0A%20%20console.log('baz')%3B%0A%7D%0A%0Afunction%20bar()%20%7B%0A%20%20console.log('bar')%3B%0A%20%20baz()%3B%0A%7D%0A%0Afunction%20foo()%20%7B%0A%20%20console.log('foo')%3B%0A%20%20bar()%3B%0A%7D%0A%0Afoo()%3B%0A",ext:"javascript"},{default:t(()=>[B,_,E]),_:1}),x,w,C,a(e,{id:"default-bind-this-example",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run","data-global":"true","data-length":"3",hl_lines:"2-8,10-21,23-32",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"%2F%2F%20%E5%85%A8%E5%B1%80%E4%BD%9C%E7%94%A8%E5%9F%9F%0Afunction%20foo()%20%7B%0A%20%20console.log(this.a)%3B%20%2F%2F%20'Hello%2C%20world!'%0A%7D%0A%0Avar%20a%20%3D%20'Hello%2C%20world!'%3B%0A%0Afoo()%3B%0A%0Afunction%20bar()%20%7B%0A%20%20'use%20strict'%3B%0A%20%20try%20%7B%0A%20%20%20%20console.log(this.b)%3B%0A%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20console.log(e)%3B%20%2F%2F%20TypeError%3A%20Cannot%20read%20properties%20of%20undefined%20(reading%20'b')%0A%20%20%7D%0A%7D%0A%0Avar%20b%20%3D%20'What%20the%20heck%3F'%3B%0A%0Abar()%3B%0A%0Afunction%20baz()%20%7B%0A%20%20console.log(this.c)%3B%20%2F%2F%20'This%20is%20important!'%0A%7D%0A%0Avar%20c%20%3D%20'This%20is%20important!'%3B%0A%0A(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%20%20baz()%3B%0A%7D)()%3B%0A",ext:"javascript"},{default:t(()=>[D,F,j]),_:1}),n("p",null,[s("上面例子"),a(c,{to:"default-bind-this-example-2"},{default:t(()=>[H]),_:1}),s("中，"),N,s(" 函数调用时应用了 "),z,s(" 默认绑定，"),L,s(" 指向全局对象。"),S,s(" 直接使用了"),M,s("进行调用，因此只能使用默认绑定。 在"),a(c,{to:"default-bind-this-example-10"},{default:t(()=>[T]),_:1}),s("下，不能将全局对象用于默认绑定。 "),W,s(" 会绑定到 "),U,s("。 但在"),a(c,{to:"default-bind-this-example-23"},{default:t(()=>[$]),_:1}),s("下，只有 "),I,s(" 函数运行在非严格模式下，默认绑定会将其绑定到全局对象，在严格模式下调用 "),V,s(" 不会影响默认绑定。")]),O,J,a(e,{id:"implicit-bind-this-example",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"const%20foo%20%3D%20%7B%0A%20%20a%3A%20'Hello'%2C%0A%20%20log()%20%7B%0A%20%20%20%20console.log(this.a)%3B%0A%20%20%7D%2C%0A%7D%3B%0A%0Afoo.log()%3B%20%2F%2F%20'Hello'%0A",ext:"javascript"},{default:t(()=>[Z,P]),_:1}),q,a(e,{id:"implicit-bind-this-example2",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run","data-global":"true",hl_lines:"18,22",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"var%20b%20%3D%20'global%20b'%3B%0A%0Afunction%20say()%20%7B%0A%20%20console.log(this.b)%3B%0A%7D%0A%0Aconst%20foo%20%3D%20%7B%0A%20%20a%3A%20'Hello'%2C%0A%20%20say%2C%0A%20%20bar%3A%20%7B%0A%20%20%20%20b%3A%20'World'%2C%0A%20%20%20%20say%2C%0A%20%20%7D%2C%0A%7D%3B%0A%0Afoo.bar.say()%3B%20%2F%2F%20'World'%0A%0Aconst%20say2%20%3D%20foo.say%3B%0Asay2()%3B%20%2F%2F%20'global%20b'%0A%0Aconst%20say3%20%3D%20foo.bar.say%3B%0Asay3()%3B%20%2F%2F%20%20'global%20b'%0A",ext:"javascript"},{default:t(()=>[G,Q,K]),_:1}),n("p",null,[s("在"),a(c,{to:"implicit-bind-this-example2-18"},{default:t(()=>[R]),_:1}),s("行，"),X,s(" 和 "),Y,s(" 引用的实际上是 "),nn,s(" 函数本身，因此其调用方式实际上应用了 "),sn,s("。可以看出其丢失 "),an,s(" 绑定。 另一种常见的丢失 "),tn,s(" 绑定，回调函数丢失 "),en,s(" 绑定如下：")]),a(e,{id:"implicit-bind-this-example3",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run","data-global":"true",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"function%20say()%20%7B%0A%20%20console.log(this.a)%3B%0A%7D%0A%0Afunction%20callSay(func)%20%7B%0A%20%20func()%3B%0A%7D%0A%0Aconst%20foo%20%3D%20%7B%0A%20%20a%3A%20'Hello'%2C%0A%20%20say%2C%0A%7D%3B%0A%0Avar%20a%20%3D%20'World'%3B%0A%0AcallSay(foo.say)%3B%20%2F%2F%20'World'%0A",ext:"javascript"},{default:t(()=>[on,cn]),_:1}),ln,pn,a(e,{id:"explicit-bind-this-example3",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"function%20say()%20%7B%0A%20%20console.log(this.a)%3B%0A%7D%0A%0Aconst%20foo%20%3D%20%7B%20a%3A%20'Hello'%20%7D%3B%0A%0Asay.call(foo)%3B%20%2F%2F%20'Hello'%0A",ext:"javascript"},{default:t(()=>[un,dn]),_:1}),rn,a(e,{class:"language-typescript line-numbers-mode","data-ext":"ts",fullscreen:"undefined",steps:"undefined",action:"undefined",winCtrl:"undefined",async:"undefined",content:"apply(this%3A%20Function%2C%20thisArg%3A%20any%2C%20argArray%3F%3A%20any)%3A%20any%3B%0A%0Acall(this%3A%20Function%2C%20thisArg%3A%20any%2C%20...argArray%3A%20any%5B%5D)%3A%20any%3B%0A%0Abind(this%3A%20Function%2C%20thisArg%3A%20any%2C%20...argArray%3A%20any%5B%5D)%3A%20any%3B%0A",ext:"typescript"},{default:t(()=>[kn,hn]),_:1}),bn,a(e,{id:"explicit-bind-this-example4",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"function%20say(b)%20%7B%0A%20%20console.log(%60%24%7Bthis.a%7D%2C%20%24%7Bb%7D!%60)%3B%0A%7D%0A%0Aconst%20foo%20%3D%20%7B%20a%3A%20'Hello'%20%7D%3B%0A%0Aconst%20bindSay%20%3D%20say.bind(foo)%3B%0A%0AbindSay('world')%3B%20%2F%2F%20'Hello%2C%20world!'%0A",ext:"javascript"},{default:t(()=>[mn,fn]),_:1}),An,a(e,{id:"new-bind-this-example",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"function%20Foo(name)%20%7B%0A%20%20this.name%20%3D%20name%3B%0A%7D%0A%0Aconst%20foo%20%3D%20new%20Foo('Hello')%3B%0Aconsole.log(foo.name)%3B%20%2F%2F%20'Hello'%0A",ext:"javascript"},{default:t(()=>[gn,vn]),_:1}),yn,a(p,null,{default:t(()=>[a(i,{id:"this绑定优先级",no:"",graph:"flowchart%20TD%0A%20%20A%5B%E5%87%BD%E6%95%B0%5D%20--%3E%20B%7B%22%E6%98%AF%E5%90%A6%E5%9C%A8new%5Cn%E4%B8%AD%E8%B0%83%E7%94%A8%5Cn(new%E7%BB%91%E5%AE%9A)%22%7D%0A%20%20B%20--%3E%7C%E6%98%AF%7C%20C%5B%22this%E7%BB%91%E5%AE%9A%E7%9A%84%E6%98%AF%5Cn%E6%96%B0%E5%88%9B%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1%22%5D%0A%20%20B%20--%3E%7C%E5%90%A6%7C%20D%7B%22%E6%98%AF%E5%90%A6%E9%80%9A%E8%BF%87call%E3%80%81%5Cnapply%E6%88%96bind%E7%BB%91%E5%AE%9A%5Cn(%E6%98%BE%E5%BC%8F%E7%BB%91%E5%AE%9A)%22%7D%0A%20%20D%20--%3E%7C%E6%98%AF%7C%20E%5B%22this%E7%BB%91%E5%AE%9A%E7%9A%84%E6%98%AF%5Cn%E6%8C%87%E5%AE%9A%E7%9A%84%E5%AF%B9%E8%B1%A1%22%5D%0A%20%20D%20--%3E%7C%E5%90%A6%7C%20F%7B%22%E6%98%AF%E5%90%A6%E5%9C%A8%E6%9F%90%E4%B8%AA%5Cn%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1%5Cn%E4%B8%AD%E8%B0%83%E7%94%A8%5Cn(%E9%9A%90%E5%BC%8F%E7%BB%91%E5%AE%9A)%22%7D%0A%20%20F%20--%3E%7C%E6%98%AF%7C%20G%5B%22this%E7%BB%91%E5%AE%9A%E7%9A%84%E6%98%AF%5Cn%E9%82%A3%E4%B8%AA%5Cn%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1%22%5D%0A%20%20F%20--%3E%7C%E5%90%A6%7C%20H%5B%22%E9%BB%98%E8%AE%A4%E7%BB%91%E5%AE%9A%EF%BC%8C%5Cnthis%E4%B8%BA%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1%5Cn(%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E4%B8%8B%E4%B8%BAundefined)%22%5D%0A"})]),_:1}),Bn,a(e,{id:"dmz-bind-this-example",class:"language-javascript line-numbers-mode","data-ext":"js","data-action":"run",fullscreen:"undefined",steps:"undefined",action:"run",winCtrl:"undefined",async:"undefined",content:"function%20foo(a%2C%20b)%20%7B%0A%20%20console.log(%60%24%7Ba%7D%20%24%7Bb%7D!%60)%3B%0A%7D%0Aconst%20NULL%20%3D%20Object.create(null)%3B%0Afoo.apply(NULL%2C%20%5B'Hello'%2C%20'world'%5D)%3B%20%2F%2F%20'Hello%20world!'%0Aconst%20bindFoo%20%3D%20foo.bind(NULL%2C%20'Hello')%3B%0AbindFoo('world')%3B%20%2F%2F%20'Hello%20world!'%0A",ext:"javascript"},{default:t(()=>[_n,En]),_:1})])}const Fn=u(k,[["render",xn],["__file","this.html.vue"]]);export{Fn as default};
